<!--components/search-selector/search-selector.wxml-->
<view class="search-selector-container">
  <!-- é®ç½©å±‚ -->
  <view class="selector-mask {{show ? 'show' : ''}}" bindtap="hide"></view>
  
  <!-- é€‰æ‹©å™¨å¼¹çª— -->
  <view class="selector-popup {{show ? 'show' : ''}}" catchtap="preventClose">
    <!-- å¤´éƒ¨ -->
    <view class="selector-header">
      <text class="selector-title">{{title}}</text>
      <view class="close-btn" bindtap="hide">Ã—</view>
    </view>
    
    <!-- æœç´¢æ¡† -->
    <view class="search-section">
      <view class="search-input-wrapper">
        <input 
          class="search-input" 
          type="text" 
          placeholder="æœç´¢{{title}}" 
          value="{{searchText}}"
          bindinput="onSearchInput"
          confirm-type="search"
          bindconfirm="onSearchConfirm"
        />
        <view class="search-icon">ğŸ”</view>
        <view 
          class="clear-btn {{searchText ? 'show' : ''}}" 
          bindtap="clearSearch"
        >Ã—</view>
      </view>
    </view>
    
    <!-- é€‰é¡¹åˆ—è¡¨ -->
    <scroll-view class="options-list" scroll-y="true">
      <view 
        class="option-item {{item.selected ? 'selected' : ''}}" 
        wx:for="{{filteredOptions}}" 
        wx:key="{{item.value || item}}"
        bindtap="selectOption"
        data-index="{{index}}"
        data-value="{{item.value || item}}"
        data-label="{{item.label || item}}"
      >
        <text class="option-text">{{item.label || item}}</text>
        <view class="check-icon {{item.selected ? 'show' : ''}}">âœ“</view>
      </view>
      
      <!-- æ— æ•°æ®æç¤º -->
      <view class="no-data" wx:if="{{filteredOptions.length === 0}}">
        <text>æš‚æ— åŒ¹é…ç»“æœ</text>
      </view>
    </scroll-view>
    
    <!-- åº•éƒ¨æŒ‰é’® -->
    <view class="selector-footer" wx:if="{{multiple}}">
      <button class="cancel-btn" bindtap="hide">å–æ¶ˆ</button>
      <button class="confirm-btn" bindtap="confirm">ç¡®å®š</button>
    </view>
  </view>
</view>
