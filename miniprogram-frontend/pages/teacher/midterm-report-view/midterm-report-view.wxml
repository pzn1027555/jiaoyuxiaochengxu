<!--pages/teacher/midterm-report-view/midterm-report-view.wxml-->
<view class="midterm-report-container">
  <!-- è‡ªå®šä¹‰å¤´éƒ¨ -->
  <custom-header 
    title="ä¸­æœŸæŠ¥å‘Š" 
    show-back="{{true}}"
    bind:headerReady="onHeaderReady"
  ></custom-header>
  
  <!-- æŠ¥å‘Šå†…å®¹ -->
  <view class="report-content" style="padding-top: {{headerHeight}}px;">
    <!-- æœ¬æœŸè¯¾ç¨‹å†…å®¹ -->
    <view class="content-section">
      <view class="section-title">æœ¬æœŸè¯¾ç¨‹å†…å®¹</view>
      <view class="content-box">
        <text class="content-text">{{reportData.currentContent || 'æš‚æ— å†…å®¹'}}</text>
      </view>
    </view>

    <!-- æœ¬æœŸè¯¾ç¨‹å­¦ç”Ÿè¡¨ç° -->
    <view class="content-section">
      <view class="section-title">æœ¬æœŸè¯¾ç¨‹å­¦ç”Ÿè¡¨ç°</view>
      <view class="content-box">
        <text class="content-text">{{reportData.studentPerformance || 'æš‚æ— å†…å®¹'}}</text>
      </view>
    </view>

    <!-- åæœŸè¯¾ç¨‹å†…å®¹åŠæ•™å­¦è®¡åˆ’ -->
    <view class="content-section">
      <view class="section-title">åæœŸè¯¾ç¨‹å†…å®¹åŠæ•™å­¦è®¡åˆ’</view>
      <view class="content-box">
        <text class="content-text">{{reportData.futurePlan || 'æš‚æ— å†…å®¹'}}</text>
      </view>
    </view>

    <!-- æŠ¥å‘Šä¿¡æ¯ -->
    <view class="report-info" wx:if="{{reportData.submitTime}}">
      <view class="info-item">
        <text class="info-label">æäº¤æ—¶é—´ï¼š</text>
        <text class="info-value">{{reportData.submitTime}}</text>
      </view>
      <view class="info-item" wx:if="{{reportData.teacherName}}">
        <text class="info-label">å¡«å†™æ•™å¸ˆï¼š</text>
        <text class="info-value">{{reportData.teacherName}}</text>
      </view>
    </view>
  </view>

  <!-- åŠ è½½çŠ¶æ€ -->
  <view class="loading-container" wx:if="{{loading}}">
    <view class="loading-spinner"></view>
    <text class="loading-text">åŠ è½½ä¸­...</text>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view class="empty-state" wx:if="{{!loading && !reportData.currentContent && !reportData.studentPerformance && !reportData.futurePlan}}">
    <view class="empty-icon">ğŸ“‹</view>
    <text class="empty-text">æš‚æ— æŠ¥å‘Šå†…å®¹</text>
  </view>
</view>
