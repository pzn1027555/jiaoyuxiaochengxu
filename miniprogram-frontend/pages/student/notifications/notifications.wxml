<view class="notice-container">
  <custom-header title="消息通知" show-back="{{true}}" bind:headerReady="onHeaderReady"></custom-header>

  <view class="content" style="padding-top: {{headerHeight}}px;">
    <block wx:if="{{list.length}}">
      <view class="notice-item" wx:for="{{list}}" wx:key="id">
        <image class="icon" src="/images/student/tongzhi.png" mode="aspectFit"></image>
        <view class="right">
          <view class="top">
            <text class="title">{{item.title}}</text>
            <text class="time">{{item.displayTime}}</text>
          </view>
          <view class="content-text">{{item.content}}</view>
        </view>
        <image wx:if="{{item.type !== 'money'}}" class="next" src="/images/workspace/next.png" mode="aspectFit" 
               data-type="{{item.type}}" data-relatedid="{{item.relatedId}}" data-id="{{item.id}}"
               bindtap="openTarget"></image>
      </view>
    </block>

    <view class="empty" wx:else>
      <image class="empty-img" src="/images/common/no-data.png" mode="aspectFit"></image>
      <text class="empty-text">暂无通知</text>
    </view>
  </view>
</view>

<view class="booking-container">
  <custom-header title="消息通知" show-back="{{true}}" bind:headerReady="onHeaderReady"></custom-header>
  <view class="content" style="padding-top: {{headerHeight}}px;">
    <view class="header-actions">
      <button class="mark-all" bindtap="markAll">全部已读</button>
    </view>

    <block wx:if="{{list.length}}">
      <view class="booking-item" wx:for="{{list}}" wx:key="id" bindtap="markRead" data-id="{{item.id}}">
        <image class="avatar" src="/images/student/tongzhi.png" mode="aspectFill"></image>
        <view class="meta">
          <view class="row1">
            <text class="name">{{item.title}}</text>
          </view>
          <view class="row-bottom">
            <text class="time">{{item.timeText}}</text>
          </view>
        </view>
      </view>
    </block>

    <view class="empty" wx:else>
      <image class="empty-img" src="/images/common/no-data.png" mode="aspectFit"></image>
      <text class="empty-text">暂无通知</text>
    </view>
  </view>
</view>

