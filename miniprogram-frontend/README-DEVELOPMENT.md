# 开发环境配置说明

## 微信小程序网络请求配置

### 问题描述
微信小程序对网络请求有严格限制，只能访问配置在合法域名列表中的HTTPS域名。开发环境下访问`localhost:8080`会报错：`request:fail url not in domain list`

### 解决方案

#### 1. 微信开发者工具设置（推荐）
1. 打开微信开发者工具
2. 点击右上角 **"详情"** 按钮
3. 选择 **"本地设置"** 标签页
4. 勾选 **"不校验合法域名、web-view（业务域名）、TLS 版本以及 HTTPS 证书"**

#### 2. 代码配置
项目已配置环境自动切换：
- 开发环境：`http://localhost:8080/api`
- 生产环境：`https://your-domain.com/api`

配置文件位置：`config/env.js`

### 调试说明
- 开发环境下会显示详细的网络请求日志
- 发送验证码成功后会弹窗显示验证码（开发环境默认：123456）
- 生产环境会关闭调试日志

### 常见问题
1. **网络请求失败** - 确保微信开发者工具关闭了域名校验
2. **验证码获取失败** - 检查后端服务是否启动在8080端口
3. **登录按钮不变绿** - 确保手机号格式正确且验证码为6位数字

### 测试流程
1. 输入11位手机号（如：13800138001）
2. 点击"获取验证码"
3. 开发环境会弹窗显示验证码：123456
4. 输入验证码后登录按钮变绿
5. 点击登录完成认证流程