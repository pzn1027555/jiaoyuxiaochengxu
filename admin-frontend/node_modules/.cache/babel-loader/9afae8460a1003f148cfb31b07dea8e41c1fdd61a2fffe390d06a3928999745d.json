{"ast":null,"code":"import Layout from '@/components/Layout.vue';\nexport default {\n  name: 'Complaints',\n  components: {\n    Layout\n  },\n  data() {\n    return {\n      loading: false,\n      complaintList: [],\n      selectedComplaints: [],\n      statistics: {\n        totalComplaints: 0,\n        pendingComplaints: 0,\n        processingComplaints: 0,\n        resolvedComplaints: 0\n      },\n      searchForm: {\n        complaintNo: '',\n        complainantName: '',\n        status: null,\n        urgencyLevel: null\n      },\n      pagination: {\n        page: 1,\n        size: 10,\n        total: 0\n      },\n      detailDialogVisible: false,\n      currentComplaint: null\n    };\n  },\n  created() {\n    this.loadComplaints();\n    this.loadStatistics();\n  },\n  methods: {\n    loadComplaints() {\n      this.loading = true;\n      // 模拟数据\n      setTimeout(() => {\n        this.complaintList = [{\n          id: 1,\n          complaintNo: 'CPT20240116001',\n          title: '教师上课迟到问题',\n          complainantName: '张学生',\n          targetName: '李老师',\n          complaintType: '教学质量',\n          urgencyLevel: 2,\n          status: 0,\n          handlerName: '',\n          content: '老师经常上课迟到，影响学习效果...',\n          createTime: '2024-01-16 10:30:00'\n        }, {\n          id: 2,\n          complaintNo: 'CPT20240116002',\n          title: '课程内容与描述不符',\n          complainantName: '王学生',\n          targetName: 'Python基础课程',\n          complaintType: '课程质量',\n          urgencyLevel: 1,\n          status: 1,\n          handlerName: '客服小张',\n          content: '课程内容过于简单，与描述的高级内容不符...',\n          createTime: '2024-01-16 09:15:00'\n        }];\n        this.pagination.total = 56;\n        this.loading = false;\n      }, 500);\n    },\n    loadStatistics() {\n      this.statistics = {\n        totalComplaints: 156,\n        pendingComplaints: 23,\n        processingComplaints: 15,\n        resolvedComplaints: 118\n      };\n    },\n    handleSearch() {\n      this.pagination.page = 1;\n      this.loadComplaints();\n    },\n    handleReset() {\n      this.$refs.searchForm.resetFields();\n      this.pagination.page = 1;\n      this.loadComplaints();\n    },\n    handleSizeChange(val) {\n      this.pagination.size = val;\n      this.pagination.page = 1;\n      this.loadComplaints();\n    },\n    handleCurrentChange(val) {\n      this.pagination.page = val;\n      this.loadComplaints();\n    },\n    handleSelectionChange(selection) {\n      this.selectedComplaints = selection;\n    },\n    handleViewDetail(complaint) {\n      this.currentComplaint = complaint;\n      this.detailDialogVisible = true;\n    },\n    handleDetailClose() {\n      this.currentComplaint = null;\n    },\n    handleAssign(complaint) {\n      this.$message.info('分配功能开发中...');\n    },\n    handleProcess(complaint) {\n      this.$message.info('处理功能开发中...');\n    },\n    batchProcess() {\n      if (this.selectedComplaints.length === 0) {\n        this.$message.warning('请选择要处理的投诉');\n        return;\n      }\n      this.$message.info('批量处理功能开发中...');\n    },\n    refreshData() {\n      this.loadComplaints();\n      this.loadStatistics();\n      this.$message.success('数据已刷新');\n    },\n    getStatusText(status) {\n      const statusMap = {\n        0: '待处理',\n        1: '处理中',\n        2: '已解决',\n        3: '已关闭'\n      };\n      return statusMap[status] || '未知';\n    },\n    getStatusType(status) {\n      const typeMap = {\n        0: 'warning',\n        1: 'primary',\n        2: 'success',\n        3: 'info'\n      };\n      return typeMap[status] || 'info';\n    },\n    getUrgencyText(level) {\n      const levelMap = {\n        1: '低',\n        2: '中',\n        3: '高'\n      };\n      return levelMap[level] || '未知';\n    }\n  }\n};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}