{"ast":null,"code":"import Layout from '@/components/Layout.vue';\nexport default {\n  name: 'Orders',\n  components: {\n    Layout\n  },\n  data() {\n    return {\n      loading: false,\n      orderList: [],\n      statistics: {\n        totalOrders: 0,\n        pendingOrders: 0,\n        completedOrders: 0,\n        totalRevenue: '0.00'\n      },\n      searchForm: {\n        orderNo: '',\n        studentName: '',\n        orderStatus: null,\n        paymentMethod: null,\n        dateRange: null\n      },\n      pagination: {\n        page: 1,\n        size: 10,\n        total: 0\n      },\n      detailDialogVisible: false,\n      currentOrder: null\n    };\n  },\n  created() {\n    this.loadOrders();\n    this.loadStatistics();\n  },\n  methods: {\n    loadOrders() {\n      this.loading = true;\n      // 模拟数据\n      setTimeout(() => {\n        this.orderList = [{\n          id: 1,\n          orderNo: 'ORD20240116001',\n          studentName: '张小明',\n          courseName: 'Python基础入门课程',\n          teacherName: '李老师',\n          originalPrice: '299.00',\n          discountAmount: '50.00',\n          finalPrice: '249.00',\n          paymentMethod: 'WECHAT',\n          orderStatus: 1,\n          commissionAmount: '49.80',\n          createTime: '2024-01-16 10:30:00',\n          paymentTime: '2024-01-16 10:35:00',\n          remark: '学生主动购买'\n        }, {\n          id: 2,\n          orderNo: 'ORD20240116002',\n          studentName: '王小红',\n          courseName: 'Vue.js实战开发',\n          teacherName: '张老师',\n          originalPrice: '399.00',\n          discountAmount: '0.00',\n          finalPrice: '399.00',\n          paymentMethod: 'ALIPAY',\n          orderStatus: 0,\n          commissionAmount: '79.80',\n          createTime: '2024-01-16 11:20:00',\n          paymentTime: null\n        }, {\n          id: 3,\n          orderNo: 'ORD20240116003',\n          studentName: '李小华',\n          courseName: 'Java SpringBoot框架',\n          teacherName: '王老师',\n          originalPrice: '599.00',\n          discountAmount: '100.00',\n          finalPrice: '499.00',\n          paymentMethod: 'BANK',\n          orderStatus: 2,\n          commissionAmount: '99.80',\n          createTime: '2024-01-16 09:15:00',\n          paymentTime: '2024-01-16 09:20:00',\n          remark: '推荐购买'\n        }];\n        this.pagination.total = 125;\n        this.loading = false;\n      }, 500);\n    },\n    loadStatistics() {\n      // 模拟统计数据\n      this.statistics = {\n        totalOrders: 1256,\n        pendingOrders: 45,\n        completedOrders: 1089,\n        totalRevenue: '256,780.50'\n      };\n    },\n    handleSearch() {\n      this.pagination.page = 1;\n      this.loadOrders();\n    },\n    handleReset() {\n      this.$refs.searchForm.resetFields();\n      this.pagination.page = 1;\n      this.loadOrders();\n    },\n    handleSizeChange(val) {\n      this.pagination.size = val;\n      this.pagination.page = 1;\n      this.loadOrders();\n    },\n    handleCurrentChange(val) {\n      this.pagination.page = val;\n      this.loadOrders();\n    },\n    handleViewDetail(order) {\n      this.currentOrder = order;\n      this.detailDialogVisible = true;\n    },\n    handleDetailClose() {\n      this.currentOrder = null;\n    },\n    handleCommand(command, order) {\n      switch (command) {\n        case 'refund':\n          this.handleRefund(order);\n          break;\n        case 'cancel':\n          this.handleCancel(order);\n          break;\n        case 'commission':\n          this.handleViewCommission(order);\n          break;\n      }\n    },\n    handleRefund(order) {\n      this.$confirm(`确定要退款订单 ${order.orderNo} 吗？`, '退款确认', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        this.$message.success('退款申请已提交');\n        this.loadOrders();\n        this.loadStatistics();\n      }).catch(() => {});\n    },\n    handleCancel(order) {\n      this.$confirm(`确定要取消订单 ${order.orderNo} 吗？`, '取消确认', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        this.$message.success('订单已取消');\n        this.loadOrders();\n        this.loadStatistics();\n      }).catch(() => {});\n    },\n    handleViewCommission(order) {\n      this.$message.info(`教师佣金：¥${order.commissionAmount}`);\n    },\n    exportOrders() {\n      this.$message.info('订单导出功能开发中...');\n    },\n    refreshData() {\n      this.loadOrders();\n      this.loadStatistics();\n      this.$message.success('数据已刷新');\n    },\n    getOrderStatusText(status) {\n      const statusMap = {\n        0: '待支付',\n        1: '已支付',\n        2: '已完成',\n        3: '已取消',\n        4: '已退款'\n      };\n      return statusMap[status] || '未知';\n    },\n    getOrderStatusType(status) {\n      const typeMap = {\n        0: 'warning',\n        1: 'success',\n        2: 'info',\n        3: 'danger',\n        4: 'warning'\n      };\n      return typeMap[status] || 'info';\n    },\n    getPaymentMethodText(method) {\n      const methodMap = {\n        'WECHAT': '微信支付',\n        'ALIPAY': '支付宝',\n        'BANK': '银行卡'\n      };\n      return methodMap[method] || method;\n    },\n    getPaymentMethodType(method) {\n      const typeMap = {\n        'WECHAT': 'success',\n        'ALIPAY': 'primary',\n        'BANK': 'warning'\n      };\n      return typeMap[method] || 'info';\n    }\n  }\n};","map":{"version":3,"names":["Layout","name","components","data","loading","orderList","statistics","totalOrders","pendingOrders","completedOrders","totalRevenue","searchForm","orderNo","studentName","orderStatus","paymentMethod","dateRange","pagination","page","size","total","detailDialogVisible","currentOrder","created","loadOrders","loadStatistics","methods","setTimeout","id","courseName","teacherName","originalPrice","discountAmount","finalPrice","commissionAmount","createTime","paymentTime","remark","handleSearch","handleReset","$refs","resetFields","handleSizeChange","val","handleCurrentChange","handleViewDetail","order","handleDetailClose","handleCommand","command","handleRefund","handleCancel","handleViewCommission","$confirm","confirmButtonText","cancelButtonText","type","then","$message","success","catch","info","exportOrders","refreshData","getOrderStatusText","status","statusMap","getOrderStatusType","typeMap","getPaymentMethodText","method","methodMap","getPaymentMethodType"],"sources":["src/views/finance/Orders.vue"],"sourcesContent":["<template>\r\n  <Layout>\r\n    <div class=\"orders-container\">\r\n      <!-- 页面头部 -->\r\n      <div class=\"page-header\">\r\n        <div class=\"header-content\">\r\n          <h1 class=\"page-title\">\r\n            <i class=\"el-icon-s-order\"></i>\r\n            订单管理\r\n          </h1>\r\n          <p class=\"page-description\">管理平台所有订单，跟踪支付状态和交易流程</p>\r\n        </div>\r\n        <div class=\"header-actions\">\r\n          <el-button type=\"primary\" icon=\"el-icon-download\" @click=\"exportOrders\">\r\n            导出订单\r\n          </el-button>\r\n          <el-button type=\"success\" icon=\"el-icon-refresh\" @click=\"refreshData\">\r\n            刷新数据\r\n          </el-button>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 统计卡片 -->\r\n      <div class=\"stats-cards\">\r\n        <div class=\"stat-card total\">\r\n          <div class=\"stat-icon\">\r\n            <i class=\"el-icon-s-order\"></i>\r\n          </div>\r\n          <div class=\"stat-content\">\r\n            <div class=\"stat-value\">{{ statistics.totalOrders || 0 }}</div>\r\n            <div class=\"stat-label\">总订单数</div>\r\n          </div>\r\n        </div>\r\n        <div class=\"stat-card pending\">\r\n          <div class=\"stat-icon\">\r\n            <i class=\"el-icon-time\"></i>\r\n          </div>\r\n          <div class=\"stat-content\">\r\n            <div class=\"stat-value\">{{ statistics.pendingOrders || 0 }}</div>\r\n            <div class=\"stat-label\">待支付</div>\r\n          </div>\r\n        </div>\r\n        <div class=\"stat-card completed\">\r\n          <div class=\"stat-icon\">\r\n            <i class=\"el-icon-success\"></i>\r\n          </div>\r\n          <div class=\"stat-content\">\r\n            <div class=\"stat-value\">{{ statistics.completedOrders || 0 }}</div>\r\n            <div class=\"stat-label\">已完成</div>\r\n          </div>\r\n        </div>\r\n        <div class=\"stat-card revenue\">\r\n          <div class=\"stat-icon\">\r\n            <i class=\"el-icon-coin\"></i>\r\n          </div>\r\n          <div class=\"stat-content\">\r\n            <div class=\"stat-value\">¥{{ statistics.totalRevenue || '0.00' }}</div>\r\n            <div class=\"stat-label\">总收入</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 搜索筛选 -->\r\n      <div class=\"search-section\">\r\n        <el-form ref=\"searchForm\" :model=\"searchForm\" inline class=\"search-form\">\r\n          <el-form-item label=\"订单号\" prop=\"orderNo\">\r\n            <el-input \r\n              v-model=\"searchForm.orderNo\" \r\n              placeholder=\"请输入订单号\"\r\n              clearable\r\n              style=\"width: 200px\"\r\n            />\r\n          </el-form-item>\r\n          <el-form-item label=\"学生姓名\" prop=\"studentName\">\r\n            <el-input \r\n              v-model=\"searchForm.studentName\" \r\n              placeholder=\"请输入学生姓名\"\r\n              clearable\r\n              style=\"width: 200px\"\r\n            />\r\n          </el-form-item>\r\n          <el-form-item label=\"订单状态\" prop=\"orderStatus\">\r\n            <el-select \r\n              v-model=\"searchForm.orderStatus\" \r\n              placeholder=\"请选择订单状态\"\r\n              clearable\r\n              style=\"width: 150px\"\r\n            >\r\n              <el-option label=\"待支付\" :value=\"0\" />\r\n              <el-option label=\"已支付\" :value=\"1\" />\r\n              <el-option label=\"已完成\" :value=\"2\" />\r\n              <el-option label=\"已取消\" :value=\"3\" />\r\n              <el-option label=\"已退款\" :value=\"4\" />\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"支付方式\" prop=\"paymentMethod\">\r\n            <el-select \r\n              v-model=\"searchForm.paymentMethod\" \r\n              placeholder=\"请选择支付方式\"\r\n              clearable\r\n              style=\"width: 150px\"\r\n            >\r\n              <el-option label=\"微信支付\" value=\"WECHAT\" />\r\n              <el-option label=\"支付宝\" value=\"ALIPAY\" />\r\n              <el-option label=\"银行卡\" value=\"BANK\" />\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"下单时间\" prop=\"dateRange\">\r\n            <el-date-picker\r\n              v-model=\"searchForm.dateRange\"\r\n              type=\"daterange\"\r\n              range-separator=\"至\"\r\n              start-placeholder=\"开始日期\"\r\n              end-placeholder=\"结束日期\"\r\n              format=\"yyyy-MM-dd\"\r\n              value-format=\"yyyy-MM-dd\"\r\n              style=\"width: 240px\"\r\n            />\r\n          </el-form-item>\r\n          <el-form-item>\r\n            <el-button type=\"primary\" icon=\"el-icon-search\" @click=\"handleSearch\">\r\n              搜索\r\n            </el-button>\r\n            <el-button icon=\"el-icon-refresh\" @click=\"handleReset\">\r\n              重置\r\n            </el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n      </div>\r\n\r\n      <!-- 订单列表 -->\r\n      <div class=\"table-section\">\r\n        <el-table\r\n          v-loading=\"loading\"\r\n          :data=\"orderList\"\r\n          stripe\r\n          border\r\n          style=\"width: 100%\"\r\n        >\r\n          <el-table-column prop=\"orderNo\" label=\"订单号\" width=\"200\" show-overflow-tooltip />\r\n          <el-table-column prop=\"studentName\" label=\"学生\" width=\"100\" />\r\n          <el-table-column prop=\"courseName\" label=\"课程\" width=\"200\" show-overflow-tooltip />\r\n          <el-table-column prop=\"teacherName\" label=\"教师\" width=\"100\" />\r\n          <el-table-column prop=\"originalPrice\" label=\"原价\" width=\"100\">\r\n            <template slot-scope=\"scope\">\r\n              ¥{{ scope.row.originalPrice }}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"discountAmount\" label=\"优惠\" width=\"80\">\r\n            <template slot-scope=\"scope\">\r\n              ¥{{ scope.row.discountAmount || '0.00' }}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"finalPrice\" label=\"实付\" width=\"100\">\r\n            <template slot-scope=\"scope\">\r\n              <span class=\"price-text\">¥{{ scope.row.finalPrice }}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"paymentMethod\" label=\"支付方式\" width=\"100\">\r\n            <template slot-scope=\"scope\">\r\n              <el-tag size=\"small\" :type=\"getPaymentMethodType(scope.row.paymentMethod)\">\r\n                {{ getPaymentMethodText(scope.row.paymentMethod) }}\r\n              </el-tag>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"orderStatus\" label=\"订单状态\" width=\"100\">\r\n            <template slot-scope=\"scope\">\r\n              <el-tag :type=\"getOrderStatusType(scope.row.orderStatus)\">\r\n                {{ getOrderStatusText(scope.row.orderStatus) }}\r\n              </el-tag>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"createTime\" label=\"下单时间\" width=\"160\" />\r\n          <el-table-column prop=\"paymentTime\" label=\"支付时间\" width=\"160\">\r\n            <template slot-scope=\"scope\">\r\n              {{ scope.row.paymentTime || '-' }}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"操作\" width=\"180\" fixed=\"right\">\r\n            <template slot-scope=\"scope\">\r\n              <el-button \r\n                size=\"small\" \r\n                type=\"primary\" \r\n                @click=\"handleViewDetail(scope.row)\"\r\n                icon=\"el-icon-view\"\r\n              >\r\n                详情\r\n              </el-button>\r\n              <el-dropdown \r\n                @command=\"(command) => handleCommand(command, scope.row)\"\r\n                trigger=\"click\"\r\n              >\r\n                <el-button size=\"small\" type=\"text\">\r\n                  更多 <i class=\"el-icon-arrow-down\"></i>\r\n                </el-button>\r\n                <el-dropdown-menu slot=\"dropdown\">\r\n                  <el-dropdown-item \r\n                    v-if=\"scope.row.orderStatus === 1\" \r\n                    command=\"refund\"\r\n                    icon=\"el-icon-refresh-left\"\r\n                  >\r\n                    退款\r\n                  </el-dropdown-item>\r\n                  <el-dropdown-item \r\n                    v-if=\"scope.row.orderStatus === 0\" \r\n                    command=\"cancel\"\r\n                    icon=\"el-icon-close\"\r\n                  >\r\n                    取消订单\r\n                  </el-dropdown-item>\r\n                  <el-dropdown-item \r\n                    command=\"commission\"\r\n                    icon=\"el-icon-coin\"\r\n                  >\r\n                    查看佣金\r\n                  </el-dropdown-item>\r\n                </el-dropdown-menu>\r\n              </el-dropdown>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n\r\n        <!-- 分页 -->\r\n        <div class=\"pagination-wrapper\">\r\n          <el-pagination\r\n            @size-change=\"handleSizeChange\"\r\n            @current-change=\"handleCurrentChange\"\r\n            :current-page=\"pagination.page\"\r\n            :page-sizes=\"[10, 20, 50, 100]\"\r\n            :page-size=\"pagination.size\"\r\n            layout=\"total, sizes, prev, pager, next, jumper\"\r\n            :total=\"pagination.total\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 订单详情对话框 -->\r\n      <el-dialog\r\n        title=\"订单详情\"\r\n        :visible.sync=\"detailDialogVisible\"\r\n        width=\"800px\"\r\n        @close=\"handleDetailClose\"\r\n      >\r\n        <div v-if=\"currentOrder\" class=\"order-detail\">\r\n          <!-- 订单基本信息 -->\r\n          <el-card class=\"detail-card\">\r\n            <div slot=\"header\">\r\n              <span>订单信息</span>\r\n            </div>\r\n            <el-row :gutter=\"20\">\r\n              <el-col :span=\"12\">\r\n                <div class=\"detail-item\">\r\n                  <label>订单号：</label>\r\n                  <span>{{ currentOrder.orderNo }}</span>\r\n                </div>\r\n              </el-col>\r\n              <el-col :span=\"12\">\r\n                <div class=\"detail-item\">\r\n                  <label>订单状态：</label>\r\n                  <el-tag :type=\"getOrderStatusType(currentOrder.orderStatus)\">\r\n                    {{ getOrderStatusText(currentOrder.orderStatus) }}\r\n                  </el-tag>\r\n                </div>\r\n              </el-col>\r\n              <el-col :span=\"12\">\r\n                <div class=\"detail-item\">\r\n                  <label>下单时间：</label>\r\n                  <span>{{ currentOrder.createTime }}</span>\r\n                </div>\r\n              </el-col>\r\n              <el-col :span=\"12\">\r\n                <div class=\"detail-item\">\r\n                  <label>支付时间：</label>\r\n                  <span>{{ currentOrder.paymentTime || '未支付' }}</span>\r\n                </div>\r\n              </el-col>\r\n            </el-row>\r\n          </el-card>\r\n\r\n          <!-- 课程和用户信息 -->\r\n          <el-card class=\"detail-card\">\r\n            <div slot=\"header\">\r\n              <span>购买信息</span>\r\n            </div>\r\n            <el-row :gutter=\"20\">\r\n              <el-col :span=\"12\">\r\n                <div class=\"detail-item\">\r\n                  <label>学生姓名：</label>\r\n                  <span>{{ currentOrder.studentName }}</span>\r\n                </div>\r\n              </el-col>\r\n              <el-col :span=\"12\">\r\n                <div class=\"detail-item\">\r\n                  <label>课程名称：</label>\r\n                  <span>{{ currentOrder.courseName }}</span>\r\n                </div>\r\n              </el-col>\r\n              <el-col :span=\"12\">\r\n                <div class=\"detail-item\">\r\n                  <label>教师姓名：</label>\r\n                  <span>{{ currentOrder.teacherName }}</span>\r\n                </div>\r\n              </el-col>\r\n              <el-col :span=\"12\">\r\n                <div class=\"detail-item\">\r\n                  <label>课程原价：</label>\r\n                  <span class=\"price-text\">¥{{ currentOrder.originalPrice }}</span>\r\n                </div>\r\n              </el-col>\r\n              <el-col :span=\"12\">\r\n                <div class=\"detail-item\">\r\n                  <label>优惠金额：</label>\r\n                  <span>¥{{ currentOrder.discountAmount || '0.00' }}</span>\r\n                </div>\r\n              </el-col>\r\n              <el-col :span=\"12\">\r\n                <div class=\"detail-item\">\r\n                  <label>实付金额：</label>\r\n                  <span class=\"price-text final-price\">¥{{ currentOrder.finalPrice }}</span>\r\n                </div>\r\n              </el-col>\r\n            </el-row>\r\n          </el-card>\r\n\r\n          <!-- 支付信息 -->\r\n          <el-card class=\"detail-card\">\r\n            <div slot=\"header\">\r\n              <span>支付信息</span>\r\n            </div>\r\n            <el-row :gutter=\"20\">\r\n              <el-col :span=\"12\">\r\n                <div class=\"detail-item\">\r\n                  <label>支付方式：</label>\r\n                  <el-tag size=\"small\" :type=\"getPaymentMethodType(currentOrder.paymentMethod)\">\r\n                    {{ getPaymentMethodText(currentOrder.paymentMethod) }}\r\n                  </el-tag>\r\n                </div>\r\n              </el-col>\r\n              <el-col :span=\"12\">\r\n                <div class=\"detail-item\">\r\n                  <label>佣金金额：</label>\r\n                  <span>¥{{ currentOrder.commissionAmount || '0.00' }}</span>\r\n                </div>\r\n              </el-col>\r\n              <el-col :span=\"24\" v-if=\"currentOrder.remark\">\r\n                <div class=\"detail-item\">\r\n                  <label>订单备注：</label>\r\n                  <p>{{ currentOrder.remark }}</p>\r\n                </div>\r\n              </el-col>\r\n            </el-row>\r\n          </el-card>\r\n        </div>\r\n\r\n        <div slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button @click=\"detailDialogVisible = false\">关闭</el-button>\r\n        </div>\r\n      </el-dialog>\r\n    </div>\r\n  </Layout>\r\n</template>\r\n\r\n<script>\r\nimport Layout from '@/components/Layout.vue'\r\n\r\nexport default {\r\n  name: 'Orders',\r\n  components: {\r\n    Layout\r\n  },\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      orderList: [],\r\n      statistics: {\r\n        totalOrders: 0,\r\n        pendingOrders: 0,\r\n        completedOrders: 0,\r\n        totalRevenue: '0.00'\r\n      },\r\n      searchForm: {\r\n        orderNo: '',\r\n        studentName: '',\r\n        orderStatus: null,\r\n        paymentMethod: null,\r\n        dateRange: null\r\n      },\r\n      pagination: {\r\n        page: 1,\r\n        size: 10,\r\n        total: 0\r\n      },\r\n      detailDialogVisible: false,\r\n      currentOrder: null\r\n    }\r\n  },\r\n  created() {\r\n    this.loadOrders()\r\n    this.loadStatistics()\r\n  },\r\n  methods: {\r\n    loadOrders() {\r\n      this.loading = true\r\n      // 模拟数据\r\n      setTimeout(() => {\r\n        this.orderList = [\r\n          {\r\n            id: 1,\r\n            orderNo: 'ORD20240116001',\r\n            studentName: '张小明',\r\n            courseName: 'Python基础入门课程',\r\n            teacherName: '李老师',\r\n            originalPrice: '299.00',\r\n            discountAmount: '50.00',\r\n            finalPrice: '249.00',\r\n            paymentMethod: 'WECHAT',\r\n            orderStatus: 1,\r\n            commissionAmount: '49.80',\r\n            createTime: '2024-01-16 10:30:00',\r\n            paymentTime: '2024-01-16 10:35:00',\r\n            remark: '学生主动购买'\r\n          },\r\n          {\r\n            id: 2,\r\n            orderNo: 'ORD20240116002',\r\n            studentName: '王小红',\r\n            courseName: 'Vue.js实战开发',\r\n            teacherName: '张老师',\r\n            originalPrice: '399.00',\r\n            discountAmount: '0.00',\r\n            finalPrice: '399.00',\r\n            paymentMethod: 'ALIPAY',\r\n            orderStatus: 0,\r\n            commissionAmount: '79.80',\r\n            createTime: '2024-01-16 11:20:00',\r\n            paymentTime: null\r\n          },\r\n          {\r\n            id: 3,\r\n            orderNo: 'ORD20240116003',\r\n            studentName: '李小华',\r\n            courseName: 'Java SpringBoot框架',\r\n            teacherName: '王老师',\r\n            originalPrice: '599.00',\r\n            discountAmount: '100.00',\r\n            finalPrice: '499.00',\r\n            paymentMethod: 'BANK',\r\n            orderStatus: 2,\r\n            commissionAmount: '99.80',\r\n            createTime: '2024-01-16 09:15:00',\r\n            paymentTime: '2024-01-16 09:20:00',\r\n            remark: '推荐购买'\r\n          }\r\n        ]\r\n        this.pagination.total = 125\r\n        this.loading = false\r\n      }, 500)\r\n    },\r\n    \r\n    loadStatistics() {\r\n      // 模拟统计数据\r\n      this.statistics = {\r\n        totalOrders: 1256,\r\n        pendingOrders: 45,\r\n        completedOrders: 1089,\r\n        totalRevenue: '256,780.50'\r\n      }\r\n    },\r\n    \r\n    handleSearch() {\r\n      this.pagination.page = 1\r\n      this.loadOrders()\r\n    },\r\n    \r\n    handleReset() {\r\n      this.$refs.searchForm.resetFields()\r\n      this.pagination.page = 1\r\n      this.loadOrders()\r\n    },\r\n    \r\n    handleSizeChange(val) {\r\n      this.pagination.size = val\r\n      this.pagination.page = 1\r\n      this.loadOrders()\r\n    },\r\n    \r\n    handleCurrentChange(val) {\r\n      this.pagination.page = val\r\n      this.loadOrders()\r\n    },\r\n    \r\n    handleViewDetail(order) {\r\n      this.currentOrder = order\r\n      this.detailDialogVisible = true\r\n    },\r\n    \r\n    handleDetailClose() {\r\n      this.currentOrder = null\r\n    },\r\n    \r\n    handleCommand(command, order) {\r\n      switch (command) {\r\n        case 'refund':\r\n          this.handleRefund(order)\r\n          break\r\n        case 'cancel':\r\n          this.handleCancel(order)\r\n          break\r\n        case 'commission':\r\n          this.handleViewCommission(order)\r\n          break\r\n      }\r\n    },\r\n    \r\n    handleRefund(order) {\r\n      this.$confirm(`确定要退款订单 ${order.orderNo} 吗？`, '退款确认', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        this.$message.success('退款申请已提交')\r\n        this.loadOrders()\r\n        this.loadStatistics()\r\n      }).catch(() => {})\r\n    },\r\n    \r\n    handleCancel(order) {\r\n      this.$confirm(`确定要取消订单 ${order.orderNo} 吗？`, '取消确认', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        this.$message.success('订单已取消')\r\n        this.loadOrders()\r\n        this.loadStatistics()\r\n      }).catch(() => {})\r\n    },\r\n    \r\n    handleViewCommission(order) {\r\n      this.$message.info(`教师佣金：¥${order.commissionAmount}`)\r\n    },\r\n    \r\n    exportOrders() {\r\n      this.$message.info('订单导出功能开发中...')\r\n    },\r\n    \r\n    refreshData() {\r\n      this.loadOrders()\r\n      this.loadStatistics()\r\n      this.$message.success('数据已刷新')\r\n    },\r\n    \r\n    getOrderStatusText(status) {\r\n      const statusMap = {\r\n        0: '待支付',\r\n        1: '已支付',\r\n        2: '已完成',\r\n        3: '已取消',\r\n        4: '已退款'\r\n      }\r\n      return statusMap[status] || '未知'\r\n    },\r\n    \r\n    getOrderStatusType(status) {\r\n      const typeMap = {\r\n        0: 'warning',\r\n        1: 'success',\r\n        2: 'info',\r\n        3: 'danger',\r\n        4: 'warning'\r\n      }\r\n      return typeMap[status] || 'info'\r\n    },\r\n    \r\n    getPaymentMethodText(method) {\r\n      const methodMap = {\r\n        'WECHAT': '微信支付',\r\n        'ALIPAY': '支付宝',\r\n        'BANK': '银行卡'\r\n      }\r\n      return methodMap[method] || method\r\n    },\r\n    \r\n    getPaymentMethodType(method) {\r\n      const typeMap = {\r\n        'WECHAT': 'success',\r\n        'ALIPAY': 'primary',\r\n        'BANK': 'warning'\r\n      }\r\n      return typeMap[method] || 'info'\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.orders-container {\r\n  padding: 20px;\r\n  background-color: #f5f7fa;\r\n  min-height: 100vh;\r\n}\r\n\r\n.page-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 20px;\r\n  padding: 20px;\r\n  background: linear-gradient(135deg, #2c5aa0 0%, #1e3d72 100%);\r\n  border-radius: 10px;\r\n  color: white;\r\n}\r\n\r\n.header-content h1 {\r\n  margin: 0 0 5px 0;\r\n  font-size: 24px;\r\n  font-weight: 600;\r\n}\r\n\r\n.header-content p {\r\n  margin: 0;\r\n  opacity: 0.9;\r\n  font-size: 14px;\r\n}\r\n\r\n.page-title i {\r\n  margin-right: 8px;\r\n  color: #ffd04b;\r\n}\r\n\r\n.stats-cards {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\r\n  gap: 20px;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.stat-card {\r\n  background: white;\r\n  padding: 24px;\r\n  border-radius: 10px;\r\n  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);\r\n  display: flex;\r\n  align-items: center;\r\n  transition: transform 0.3s ease;\r\n}\r\n\r\n.stat-card:hover {\r\n  transform: translateY(-5px);\r\n}\r\n\r\n.stat-icon {\r\n  width: 60px;\r\n  height: 60px;\r\n  border-radius: 10px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-right: 16px;\r\n  font-size: 24px;\r\n  color: white;\r\n}\r\n\r\n.stat-card.total .stat-icon {\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n}\r\n\r\n.stat-card.pending .stat-icon {\r\n  background: linear-gradient(135deg, #f39c12 0%, #e67e22 100%);\r\n}\r\n\r\n.stat-card.completed .stat-icon {\r\n  background: linear-gradient(135deg, #27ae60 0%, #2ecc71 100%);\r\n}\r\n\r\n.stat-card.revenue .stat-icon {\r\n  background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);\r\n}\r\n\r\n.stat-content {\r\n  flex: 1;\r\n}\r\n\r\n.stat-value {\r\n  font-size: 32px;\r\n  font-weight: 700;\r\n  color: #2c3e50;\r\n  line-height: 1;\r\n}\r\n\r\n.stat-label {\r\n  font-size: 14px;\r\n  color: #7f8c8d;\r\n  margin-top: 4px;\r\n}\r\n\r\n.search-section {\r\n  background: white;\r\n  padding: 20px;\r\n  border-radius: 10px;\r\n  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.search-form .el-form-item {\r\n  margin-bottom: 0;\r\n}\r\n\r\n.table-section {\r\n  background: white;\r\n  padding: 20px;\r\n  border-radius: 10px;\r\n  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.pagination-wrapper {\r\n  margin-top: 20px;\r\n  text-align: right;\r\n}\r\n\r\n.price-text {\r\n  font-weight: 600;\r\n  color: #e74c3c;\r\n}\r\n\r\n.final-price {\r\n  font-size: 16px;\r\n  font-weight: 700;\r\n}\r\n\r\n.order-detail .detail-card {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.detail-item {\r\n  margin-bottom: 16px;\r\n  display: flex;\r\n  align-items: flex-start;\r\n}\r\n\r\n.detail-item label {\r\n  font-weight: 600;\r\n  color: #2c3e50;\r\n  min-width: 100px;\r\n  margin-right: 10px;\r\n}\r\n\r\n.detail-item span,\r\n.detail-item p {\r\n  color: #606266;\r\n  margin: 0;\r\n  flex: 1;\r\n}\r\n\r\n.dialog-footer {\r\n  text-align: right;\r\n}\r\n\r\n/* 响应式设计 */\r\n@media (max-width: 768px) {\r\n  .page-header {\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n    gap: 15px;\r\n  }\r\n\r\n  .header-actions {\r\n    width: 100%;\r\n    display: flex;\r\n    gap: 10px;\r\n  }\r\n\r\n  .stats-cards {\r\n    grid-template-columns: repeat(2, 1fr);\r\n  }\r\n\r\n  .search-form {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 15px;\r\n  }\r\n\r\n  .search-form .el-form-item {\r\n    margin-bottom: 15px;\r\n  }\r\n}\r\n</style> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}