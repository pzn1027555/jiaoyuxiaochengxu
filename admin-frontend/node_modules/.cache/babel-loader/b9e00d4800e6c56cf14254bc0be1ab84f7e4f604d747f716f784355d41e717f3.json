{"ast":null,"code":"export default {\n  name: 'Statistics',\n  data() {\n    return {\n      loading: false,\n      filterForm: {\n        teacherName: '',\n        subject: '',\n        dateRange: []\n      },\n      overview: {\n        totalTeachers: 24,\n        totalCourses: 156,\n        totalStudents: 1247,\n        avgRating: 4.8\n      },\n      statisticsList: [{\n        id: 1,\n        teacherName: 'George Li',\n        subject: '数学/物理',\n        avatar: '',\n        coursesCount: 8,\n        studentsCount: 45,\n        totalHours: 120,\n        rating: 4.9,\n        completionRate: 95,\n        feedback: 23,\n        lastActiveTime: '2024-01-20 10:30:00'\n      }, {\n        id: 2,\n        teacherName: 'Alice Chen',\n        subject: 'AS物理',\n        avatar: '',\n        coursesCount: 6,\n        studentsCount: 32,\n        totalHours: 96,\n        rating: 4.7,\n        completionRate: 88,\n        feedback: 18,\n        lastActiveTime: '2024-01-19 16:45:00'\n      }, {\n        id: 3,\n        teacherName: 'Bob Wang',\n        subject: '化学',\n        avatar: '',\n        coursesCount: 5,\n        studentsCount: 28,\n        totalHours: 80,\n        rating: 4.6,\n        completionRate: 92,\n        feedback: 15,\n        lastActiveTime: '2024-01-18 14:20:00'\n      }],\n      pagination: {\n        current: 1,\n        size: 20,\n        total: 3\n      }\n    };\n  },\n  methods: {\n    handleSearch() {\n      this.loadStatistics();\n    },\n    resetFilter() {\n      this.filterForm = {\n        teacherName: '',\n        subject: '',\n        dateRange: []\n      };\n      this.loadStatistics();\n    },\n    loadStatistics() {\n      this.loading = true;\n      setTimeout(() => {\n        this.loading = false;\n      }, 1000);\n    },\n    exportData() {\n      this.$message.info('导出功能开发中...');\n    },\n    viewDetails(teacher) {\n      this.$message.info(`查看详细报告：${teacher.teacherName}`);\n    },\n    viewTrend(teacher) {\n      this.$message.info(`查看趋势分析：${teacher.teacherName}`);\n    },\n    handleSortChange(column) {\n      console.log('排序变化:', column);\n    },\n    handleSizeChange(size) {\n      this.pagination.size = size;\n      this.loadStatistics();\n    },\n    handleCurrentChange(page) {\n      this.pagination.current = page;\n      this.loadStatistics();\n    },\n    getProgressColor(percentage) {\n      if (percentage >= 90) return '#67c23a';\n      if (percentage >= 70) return '#e6a23c';\n      return '#f56c6c';\n    },\n    formatDateTime(datetime) {\n      if (!datetime) return '-';\n      return new Date(datetime).toLocaleString('zh-CN');\n    }\n  },\n  mounted() {\n    this.loadStatistics();\n  }\n};","map":{"version":3,"names":["name","data","loading","filterForm","teacherName","subject","dateRange","overview","totalTeachers","totalCourses","totalStudents","avgRating","statisticsList","id","avatar","coursesCount","studentsCount","totalHours","rating","completionRate","feedback","lastActiveTime","pagination","current","size","total","methods","handleSearch","loadStatistics","resetFilter","setTimeout","exportData","$message","info","viewDetails","teacher","viewTrend","handleSortChange","column","console","log","handleSizeChange","handleCurrentChange","page","getProgressColor","percentage","formatDateTime","datetime","Date","toLocaleString","mounted"],"sources":["src/views/system/Statistics.vue"],"sourcesContent":["<template>\r\n  <div class=\"statistics-container\">\r\n    <div class=\"page-header\">\r\n      <div class=\"header-content\">\r\n        <h2 class=\"page-title\">教师数据统计</h2>\r\n        <p class=\"page-description\">教师教学数据的统计分析和报表</p>\r\n      </div>\r\n      <div class=\"header-actions\">\r\n        <el-button type=\"primary\" icon=\"el-icon-download\" @click=\"exportData\">\r\n          导出报表\r\n        </el-button>\r\n      </div>\r\n    </div>\r\n    \r\n    <div class=\"page-content\">\r\n      <!-- 统计概览 -->\r\n      <div class=\"stats-overview\">\r\n        <el-row :gutter=\"20\">\r\n          <el-col :span=\"6\">\r\n            <el-card class=\"stats-card\">\r\n              <div class=\"stats-item\">\r\n                <div class=\"stats-icon teacher\">\r\n                  <i class=\"el-icon-user\" />\r\n                </div>\r\n                <div class=\"stats-content\">\r\n                  <div class=\"stats-number\">{{ overview.totalTeachers }}</div>\r\n                  <div class=\"stats-label\">总教师数</div>\r\n                </div>\r\n              </div>\r\n            </el-card>\r\n          </el-col>\r\n          <el-col :span=\"6\">\r\n            <el-card class=\"stats-card\">\r\n              <div class=\"stats-item\">\r\n                <div class=\"stats-icon course\">\r\n                  <i class=\"el-icon-reading\" />\r\n                </div>\r\n                <div class=\"stats-content\">\r\n                  <div class=\"stats-number\">{{ overview.totalCourses }}</div>\r\n                  <div class=\"stats-label\">开设课程</div>\r\n                </div>\r\n              </div>\r\n            </el-card>\r\n          </el-col>\r\n          <el-col :span=\"6\">\r\n            <el-card class=\"stats-card\">\r\n              <div class=\"stats-item\">\r\n                <div class=\"stats-icon student\">\r\n                  <i class=\"el-icon-user-solid\" />\r\n                </div>\r\n                <div class=\"stats-content\">\r\n                  <div class=\"stats-number\">{{ overview.totalStudents }}</div>\r\n                  <div class=\"stats-label\">学生总数</div>\r\n                </div>\r\n              </div>\r\n            </el-card>\r\n          </el-col>\r\n          <el-col :span=\"6\">\r\n            <el-card class=\"stats-card\">\r\n              <div class=\"stats-item\">\r\n                <div class=\"stats-icon rating\">\r\n                  <i class=\"el-icon-star-on\" />\r\n                </div>\r\n                <div class=\"stats-content\">\r\n                  <div class=\"stats-number\">{{ overview.avgRating }}</div>\r\n                  <div class=\"stats-label\">平均评分</div>\r\n                </div>\r\n              </div>\r\n            </el-card>\r\n          </el-col>\r\n        </el-row>\r\n      </div>\r\n      \r\n      <!-- 筛选区域 -->\r\n      <el-card class=\"filter-card\">\r\n        <div class=\"filter-section\">\r\n          <el-form :model=\"filterForm\" inline class=\"filter-form\">\r\n            <el-form-item label=\"教师姓名\">\r\n              <el-input \r\n                v-model=\"filterForm.teacherName\" \r\n                placeholder=\"请输入教师姓名\" \r\n                clearable\r\n              />\r\n            </el-form-item>\r\n            <el-form-item label=\"学科\">\r\n              <el-select v-model=\"filterForm.subject\" placeholder=\"请选择学科\" clearable>\r\n                <el-option label=\"数学\" value=\"math\" />\r\n                <el-option label=\"物理\" value=\"physics\" />\r\n                <el-option label=\"化学\" value=\"chemistry\" />\r\n                <el-option label=\"AS物理\" value=\"as_physics\" />\r\n              </el-select>\r\n            </el-form-item>\r\n            <el-form-item label=\"统计周期\">\r\n              <el-date-picker\r\n                v-model=\"filterForm.dateRange\"\r\n                type=\"monthrange\"\r\n                format=\"yyyy-MM\"\r\n                value-format=\"yyyy-MM\"\r\n                range-separator=\"至\"\r\n                start-placeholder=\"开始月份\"\r\n                end-placeholder=\"结束月份\"\r\n              />\r\n            </el-form-item>\r\n            <el-form-item>\r\n              <el-button type=\"primary\" @click=\"handleSearch\">查询</el-button>\r\n              <el-button @click=\"resetFilter\">重置</el-button>\r\n            </el-form-item>\r\n          </el-form>\r\n        </div>\r\n      </el-card>\r\n      \r\n      <!-- 统计表格 -->\r\n      <el-card class=\"table-card\">\r\n        <div class=\"table-section\">\r\n          <el-table\r\n            v-loading=\"loading\"\r\n            :data=\"statisticsList\"\r\n            style=\"width: 100%\"\r\n            @sort-change=\"handleSortChange\"\r\n          >\r\n            <el-table-column prop=\"teacherName\" label=\"教师姓名\" min-width=\"120\">\r\n              <template slot-scope=\"scope\">\r\n                <div class=\"teacher-info\">\r\n                  <el-avatar \r\n                    :size=\"32\" \r\n                    :src=\"scope.row.avatar\" \r\n                    icon=\"el-icon-user-solid\"\r\n                  />\r\n                  <div class=\"teacher-details\">\r\n                    <div class=\"teacher-name\">{{ scope.row.teacherName }}</div>\r\n                    <div class=\"teacher-subject\">{{ scope.row.subject }}</div>\r\n                  </div>\r\n                </div>\r\n              </template>\r\n            </el-table-column>\r\n            \r\n            <el-table-column prop=\"coursesCount\" label=\"授课数量\" width=\"100\" sortable=\"custom\">\r\n              <template slot-scope=\"scope\">\r\n                <span class=\"number-highlight\">{{ scope.row.coursesCount }}</span>\r\n              </template>\r\n            </el-table-column>\r\n            \r\n            <el-table-column prop=\"studentsCount\" label=\"学生数量\" width=\"100\" sortable=\"custom\">\r\n              <template slot-scope=\"scope\">\r\n                <span class=\"number-highlight\">{{ scope.row.studentsCount }}</span>\r\n              </template>\r\n            </el-table-column>\r\n            \r\n            <el-table-column prop=\"totalHours\" label=\"授课时长\" width=\"120\" sortable=\"custom\">\r\n              <template slot-scope=\"scope\">\r\n                <span class=\"number-highlight\">{{ scope.row.totalHours }}h</span>\r\n              </template>\r\n            </el-table-column>\r\n            \r\n            <el-table-column prop=\"rating\" label=\"学生评分\" width=\"120\" sortable=\"custom\">\r\n              <template slot-scope=\"scope\">\r\n                <div class=\"rating-display\">\r\n                  <el-rate \r\n                    v-model=\"scope.row.rating\" \r\n                    disabled \r\n                    show-score \r\n                    text-color=\"#ff9900\"\r\n                    score-template=\"{value}\"\r\n                  />\r\n                </div>\r\n              </template>\r\n            </el-table-column>\r\n            \r\n            <el-table-column prop=\"completionRate\" label=\"完课率\" width=\"100\" sortable=\"custom\">\r\n              <template slot-scope=\"scope\">\r\n                <div class=\"progress-display\">\r\n                  <el-progress \r\n                    :percentage=\"scope.row.completionRate\" \r\n                    :color=\"getProgressColor(scope.row.completionRate)\"\r\n                    :stroke-width=\"6\"\r\n                  />\r\n                </div>\r\n              </template>\r\n            </el-table-column>\r\n            \r\n            <el-table-column prop=\"feedback\" label=\"反馈数量\" width=\"100\">\r\n              <template slot-scope=\"scope\">\r\n                <span class=\"number-highlight\">{{ scope.row.feedback }}</span>\r\n              </template>\r\n            </el-table-column>\r\n            \r\n            <el-table-column prop=\"lastActiveTime\" label=\"最后活跃\" width=\"160\">\r\n              <template slot-scope=\"scope\">\r\n                {{ formatDateTime(scope.row.lastActiveTime) }}\r\n              </template>\r\n            </el-table-column>\r\n            \r\n            <el-table-column label=\"操作\" width=\"150\" fixed=\"right\">\r\n              <template slot-scope=\"scope\">\r\n                <el-button type=\"text\" size=\"small\" @click=\"viewDetails(scope.row)\">\r\n                  详细报告\r\n                </el-button>\r\n                <el-button type=\"text\" size=\"small\" @click=\"viewTrend(scope.row)\">\r\n                  趋势分析\r\n                </el-button>\r\n              </template>\r\n            </el-table-column>\r\n          </el-table>\r\n          \r\n          <div class=\"pagination-section\">\r\n            <el-pagination\r\n              @size-change=\"handleSizeChange\"\r\n              @current-change=\"handleCurrentChange\"\r\n              :current-page=\"pagination.current\"\r\n              :page-sizes=\"[10, 20, 50, 100]\"\r\n              :page-size=\"pagination.size\"\r\n              layout=\"total, sizes, prev, pager, next, jumper\"\r\n              :total=\"pagination.total\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </el-card>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'Statistics',\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      filterForm: {\r\n        teacherName: '',\r\n        subject: '',\r\n        dateRange: []\r\n      },\r\n      overview: {\r\n        totalTeachers: 24,\r\n        totalCourses: 156,\r\n        totalStudents: 1247,\r\n        avgRating: 4.8\r\n      },\r\n      statisticsList: [\r\n        {\r\n          id: 1,\r\n          teacherName: 'George Li',\r\n          subject: '数学/物理',\r\n          avatar: '',\r\n          coursesCount: 8,\r\n          studentsCount: 45,\r\n          totalHours: 120,\r\n          rating: 4.9,\r\n          completionRate: 95,\r\n          feedback: 23,\r\n          lastActiveTime: '2024-01-20 10:30:00'\r\n        },\r\n        {\r\n          id: 2,\r\n          teacherName: 'Alice Chen',\r\n          subject: 'AS物理',\r\n          avatar: '',\r\n          coursesCount: 6,\r\n          studentsCount: 32,\r\n          totalHours: 96,\r\n          rating: 4.7,\r\n          completionRate: 88,\r\n          feedback: 18,\r\n          lastActiveTime: '2024-01-19 16:45:00'\r\n        },\r\n        {\r\n          id: 3,\r\n          teacherName: 'Bob Wang',\r\n          subject: '化学',\r\n          avatar: '',\r\n          coursesCount: 5,\r\n          studentsCount: 28,\r\n          totalHours: 80,\r\n          rating: 4.6,\r\n          completionRate: 92,\r\n          feedback: 15,\r\n          lastActiveTime: '2024-01-18 14:20:00'\r\n        }\r\n      ],\r\n      pagination: {\r\n        current: 1,\r\n        size: 20,\r\n        total: 3\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    handleSearch() {\r\n      this.loadStatistics()\r\n    },\r\n    \r\n    resetFilter() {\r\n      this.filterForm = {\r\n        teacherName: '',\r\n        subject: '',\r\n        dateRange: []\r\n      }\r\n      this.loadStatistics()\r\n    },\r\n    \r\n    loadStatistics() {\r\n      this.loading = true\r\n      setTimeout(() => {\r\n        this.loading = false\r\n      }, 1000)\r\n    },\r\n    \r\n    exportData() {\r\n      this.$message.info('导出功能开发中...')\r\n    },\r\n    \r\n    viewDetails(teacher) {\r\n      this.$message.info(`查看详细报告：${teacher.teacherName}`)\r\n    },\r\n    \r\n    viewTrend(teacher) {\r\n      this.$message.info(`查看趋势分析：${teacher.teacherName}`)\r\n    },\r\n    \r\n    handleSortChange(column) {\r\n      console.log('排序变化:', column)\r\n    },\r\n    \r\n    handleSizeChange(size) {\r\n      this.pagination.size = size\r\n      this.loadStatistics()\r\n    },\r\n    \r\n    handleCurrentChange(page) {\r\n      this.pagination.current = page\r\n      this.loadStatistics()\r\n    },\r\n    \r\n    getProgressColor(percentage) {\r\n      if (percentage >= 90) return '#67c23a'\r\n      if (percentage >= 70) return '#e6a23c'\r\n      return '#f56c6c'\r\n    },\r\n    \r\n    formatDateTime(datetime) {\r\n      if (!datetime) return '-'\r\n      return new Date(datetime).toLocaleString('zh-CN')\r\n    }\r\n  },\r\n  \r\n  mounted() {\r\n    this.loadStatistics()\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.statistics-container {\r\n  padding: 0;\r\n}\r\n\r\n.page-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: flex-start;\r\n  margin-bottom: 24px;\r\n  padding: 24px;\r\n  background: #ffffff;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.header-content {\r\n  flex: 1;\r\n}\r\n\r\n.page-title {\r\n  margin: 0 0 8px 0;\r\n  font-size: 24px;\r\n  font-weight: 600;\r\n  color: #2c3e50;\r\n}\r\n\r\n.page-description {\r\n  margin: 0;\r\n  color: #7f8c8d;\r\n  font-size: 14px;\r\n}\r\n\r\n.header-actions {\r\n  flex-shrink: 0;\r\n}\r\n\r\n.page-content {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 24px;\r\n}\r\n\r\n/* 统计概览 */\r\n.stats-overview {\r\n  margin-bottom: 0;\r\n}\r\n\r\n.stats-card {\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.stats-item {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 8px 0;\r\n}\r\n\r\n.stats-icon {\r\n  width: 48px;\r\n  height: 48px;\r\n  border-radius: 12px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-right: 16px;\r\n}\r\n\r\n.stats-icon i {\r\n  font-size: 24px;\r\n  color: #ffffff;\r\n}\r\n\r\n.stats-icon.teacher {\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n}\r\n\r\n.stats-icon.course {\r\n  background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);\r\n}\r\n\r\n.stats-icon.student {\r\n  background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);\r\n}\r\n\r\n.stats-icon.rating {\r\n  background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);\r\n}\r\n\r\n.stats-content {\r\n  flex: 1;\r\n}\r\n\r\n.stats-number {\r\n  font-size: 28px;\r\n  font-weight: 700;\r\n  color: #2c3e50;\r\n  margin-bottom: 4px;\r\n}\r\n\r\n.stats-label {\r\n  font-size: 14px;\r\n  color: #7f8c8d;\r\n}\r\n\r\n/* 卡片样式 */\r\n.filter-card,\r\n.table-card {\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.filter-section {\r\n  padding: 20px;\r\n  background: #fafbfc;\r\n  border-radius: 8px;\r\n}\r\n\r\n.filter-form {\r\n  margin: 0;\r\n}\r\n\r\n.table-section {\r\n  padding: 0;\r\n}\r\n\r\n/* 表格内容样式 */\r\n.teacher-info {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n}\r\n\r\n.teacher-details {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.teacher-name {\r\n  font-weight: 600;\r\n  color: #2c3e50;\r\n}\r\n\r\n.teacher-subject {\r\n  font-size: 12px;\r\n  color: #7f8c8d;\r\n}\r\n\r\n.number-highlight {\r\n  font-weight: 600;\r\n  color: #1890ff;\r\n}\r\n\r\n.rating-display {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.progress-display {\r\n  width: 80px;\r\n}\r\n\r\n.pagination-section {\r\n  padding: 20px;\r\n  text-align: center;\r\n  border-top: 1px solid #e9ecef;\r\n}\r\n\r\n/* 响应式设计 */\r\n@media (max-width: 1200px) {\r\n  .stats-overview .el-col {\r\n    margin-bottom: 16px;\r\n  }\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .page-header {\r\n    flex-direction: column;\r\n    gap: 16px;\r\n  }\r\n  \r\n  .stats-item {\r\n    flex-direction: column;\r\n    text-align: center;\r\n  }\r\n  \r\n  .stats-icon {\r\n    margin-right: 0;\r\n    margin-bottom: 8px;\r\n  }\r\n}\r\n</style>"],"mappings":"AA8NA;EACAA,IAAA;EACAC,KAAA;IACA;MACAC,OAAA;MACAC,UAAA;QACAC,WAAA;QACAC,OAAA;QACAC,SAAA;MACA;MACAC,QAAA;QACAC,aAAA;QACAC,YAAA;QACAC,aAAA;QACAC,SAAA;MACA;MACAC,cAAA,GACA;QACAC,EAAA;QACAT,WAAA;QACAC,OAAA;QACAS,MAAA;QACAC,YAAA;QACAC,aAAA;QACAC,UAAA;QACAC,MAAA;QACAC,cAAA;QACAC,QAAA;QACAC,cAAA;MACA,GACA;QACAR,EAAA;QACAT,WAAA;QACAC,OAAA;QACAS,MAAA;QACAC,YAAA;QACAC,aAAA;QACAC,UAAA;QACAC,MAAA;QACAC,cAAA;QACAC,QAAA;QACAC,cAAA;MACA,GACA;QACAR,EAAA;QACAT,WAAA;QACAC,OAAA;QACAS,MAAA;QACAC,YAAA;QACAC,aAAA;QACAC,UAAA;QACAC,MAAA;QACAC,cAAA;QACAC,QAAA;QACAC,cAAA;MACA,EACA;MACAC,UAAA;QACAC,OAAA;QACAC,IAAA;QACAC,KAAA;MACA;IACA;EACA;EACAC,OAAA;IACAC,aAAA;MACA,KAAAC,cAAA;IACA;IAEAC,YAAA;MACA,KAAA1B,UAAA;QACAC,WAAA;QACAC,OAAA;QACAC,SAAA;MACA;MACA,KAAAsB,cAAA;IACA;IAEAA,eAAA;MACA,KAAA1B,OAAA;MACA4B,UAAA;QACA,KAAA5B,OAAA;MACA;IACA;IAEA6B,WAAA;MACA,KAAAC,QAAA,CAAAC,IAAA;IACA;IAEAC,YAAAC,OAAA;MACA,KAAAH,QAAA,CAAAC,IAAA,WAAAE,OAAA,CAAA/B,WAAA;IACA;IAEAgC,UAAAD,OAAA;MACA,KAAAH,QAAA,CAAAC,IAAA,WAAAE,OAAA,CAAA/B,WAAA;IACA;IAEAiC,iBAAAC,MAAA;MACAC,OAAA,CAAAC,GAAA,UAAAF,MAAA;IACA;IAEAG,iBAAAjB,IAAA;MACA,KAAAF,UAAA,CAAAE,IAAA,GAAAA,IAAA;MACA,KAAAI,cAAA;IACA;IAEAc,oBAAAC,IAAA;MACA,KAAArB,UAAA,CAAAC,OAAA,GAAAoB,IAAA;MACA,KAAAf,cAAA;IACA;IAEAgB,iBAAAC,UAAA;MACA,IAAAA,UAAA;MACA,IAAAA,UAAA;MACA;IACA;IAEAC,eAAAC,QAAA;MACA,KAAAA,QAAA;MACA,WAAAC,IAAA,CAAAD,QAAA,EAAAE,cAAA;IACA;EACA;EAEAC,QAAA;IACA,KAAAtB,cAAA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}