{"ast":null,"code":"export default {\n  name: 'Login',\n  data() {\n    return {\n      loading: false,\n      loginData: {\n        username: 'admin',\n        password: '123456'\n      },\n      loginRules: {\n        username: [{\n          required: true,\n          message: '请输入用户名',\n          trigger: 'blur'\n        }],\n        password: [{\n          required: true,\n          message: '请输入密码',\n          trigger: 'blur'\n        }, {\n          min: 6,\n          message: '密码长度至少6位',\n          trigger: 'blur'\n        }]\n      }\n    };\n  },\n  methods: {\n    handleLogin() {\n      this.$refs.loginForm.validate(valid => {\n        if (valid) {\n          this.loading = true;\n          this.$api.user.login(this.loginData.username, this.loginData.password).then(response => {\n            this.$message.success('登录成功');\n\n            // 存储用户信息和token\n            this.$store.dispatch('login', {\n              user: response.data.user,\n              token: response.data.token\n            });\n\n            // 跳转到仪表盘\n            this.$router.push('/dashboard');\n          }).catch(error => {\n            console.error('登录失败:', error);\n          }).finally(() => {\n            this.loading = false;\n          });\n        }\n      });\n    }\n  },\n  created() {\n    // 如果已经登录，直接跳转到仪表盘\n    if (this.$store.getters.isLoggedIn) {\n      this.$router.push('/dashboard');\n    }\n  }\n};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}