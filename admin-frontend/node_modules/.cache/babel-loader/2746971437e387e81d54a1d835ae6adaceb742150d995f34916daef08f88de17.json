{"ast":null,"code":"import CircleButton from '@/components/CircleButton.vue';\nexport default {\n  name: 'Teachers',\n  components: {\n    CircleButton\n  },\n  data() {\n    return {\n      loading: false,\n      teachers: [],\n      selectedTeachers: [],\n      stats: {\n        totalTeachers: 0,\n        pendingReview: 0,\n        approved: 0,\n        activeTeachers: 0\n      },\n      searchForm: {\n        realName: '',\n        teacherNo: '',\n        reviewStatus: null,\n        level: null,\n        contractStatus: null\n      },\n      pagination: {\n        page: 1,\n        size: 20,\n        total: 0\n      }\n    };\n  },\n  created() {\n    this.loadTeachers();\n    this.loadStats();\n  },\n  methods: {\n    async loadTeachers() {\n      this.loading = true;\n      try {\n        // 模拟数据 - 实际项目中调用API\n        const mockTeachers = [{\n          id: 1,\n          teacherNo: 'T001',\n          realName: '张教授',\n          education: '博士',\n          major: '数学教育',\n          teachingAge: 15,\n          level: 4,\n          reviewStatus: 1,\n          contractStatus: 2,\n          commissionRate: 0.18,\n          totalStudents: 156,\n          totalIncome: 85600,\n          rating: 4.8,\n          complaintRate: 0.02,\n          isRecommended: true,\n          isHidden: false,\n          createTime: '2024-01-15 10:30:00'\n        }, {\n          id: 2,\n          teacherNo: 'T002',\n          realName: '李老师',\n          education: '硕士',\n          major: '英语教育',\n          teachingAge: 8,\n          level: 2,\n          reviewStatus: 1,\n          contractStatus: 1,\n          commissionRate: 0.15,\n          totalStudents: 89,\n          totalIncome: 45200,\n          rating: 4.6,\n          complaintRate: 0.03,\n          isRecommended: false,\n          isHidden: false,\n          createTime: '2024-01-16 09:15:00'\n        }, {\n          id: 3,\n          teacherNo: 'T003',\n          realName: '王老师',\n          education: '本科',\n          major: '物理教育',\n          teachingAge: 5,\n          level: 1,\n          reviewStatus: 0,\n          contractStatus: 0,\n          commissionRate: 0.12,\n          totalStudents: 0,\n          totalIncome: 0,\n          rating: 5.0,\n          complaintRate: 0.00,\n          isRecommended: false,\n          isHidden: false,\n          createTime: '2024-01-17 14:20:00'\n        }];\n        this.teachers = mockTeachers;\n        this.pagination.total = mockTeachers.length;\n      } catch (error) {\n        this.$message.error('加载教师列表失败');\n        console.error(error);\n      } finally {\n        this.loading = false;\n      }\n    },\n    loadStats() {\n      // 模拟统计数据\n      this.stats = {\n        totalTeachers: 248,\n        pendingReview: 12,\n        approved: 225,\n        activeTeachers: 186\n      };\n    },\n    handleSearch() {\n      this.pagination.page = 1;\n      this.loadTeachers();\n    },\n    resetSearch() {\n      this.searchForm = {\n        realName: '',\n        teacherNo: '',\n        reviewStatus: null,\n        level: null,\n        contractStatus: null\n      };\n      this.handleSearch();\n    },\n    handleSelectionChange(selection) {\n      this.selectedTeachers = selection;\n    },\n    handleAdd() {\n      this.$message.info('添加教师功能开发中...');\n    },\n    batchApprove() {\n      if (this.selectedTeachers.length === 0) {\n        this.$message.warning('请选择要审核的教师');\n        return;\n      }\n      this.$message.info('批量审核功能开发中...');\n    },\n    batchSendContract() {\n      if (this.selectedTeachers.length === 0) {\n        this.$message.warning('请选择要发送合同的教师');\n        return;\n      }\n      this.$message.info('批量发送合同功能开发中...');\n    },\n    exportTeachers() {\n      this.$message.info('导出功能开发中...');\n    },\n    getActionButtons(teacher) {\n      const actions = [{\n        icon: 'el-icon-view',\n        type: 'primary',\n        tooltip: '查看详情',\n        action: 'view',\n        data: teacher\n      }, {\n        icon: 'el-icon-edit',\n        type: 'warning',\n        tooltip: '编辑',\n        action: 'edit',\n        data: teacher\n      }, {\n        icon: 'el-icon-coin',\n        type: 'success',\n        tooltip: '调整佣金',\n        action: 'commission',\n        data: teacher\n      }];\n      if (teacher.reviewStatus === 0) {\n        actions.push({\n          icon: 'el-icon-check',\n          type: 'success',\n          tooltip: '审核',\n          action: 'review',\n          data: teacher\n        });\n      }\n      if (teacher.reviewStatus === 1 && teacher.contractStatus === 0) {\n        actions.push({\n          icon: 'el-icon-document',\n          type: 'info',\n          tooltip: '发送合同',\n          action: 'contract',\n          data: teacher\n        });\n      }\n      actions.push({\n        icon: 'el-icon-delete',\n        type: 'danger',\n        tooltip: '删除',\n        action: 'delete',\n        data: teacher\n      });\n      return actions;\n    },\n    handleAction(actionData) {\n      const {\n        action,\n        data: teacher\n      } = actionData;\n      switch (action) {\n        case 'view':\n          this.$message.info(`查看教师 ${teacher.realName} 详情功能开发中...`);\n          break;\n        case 'edit':\n          this.$message.info(`编辑教师 ${teacher.realName} 功能开发中...`);\n          break;\n        case 'review':\n          this.$message.info(`审核教师 ${teacher.realName} 功能开发中...`);\n          break;\n        case 'contract':\n          this.$message.info(`发送合同给 ${teacher.realName} 功能开发中...`);\n          break;\n        case 'commission':\n          this.$message.info(`调整 ${teacher.realName} 佣金功能开发中...`);\n          break;\n        case 'delete':\n          this.handleDelete(teacher);\n          break;\n      }\n    },\n    handleRecommendChange(teacher) {\n      this.$message.success(`${teacher.isRecommended ? '已推荐' : '取消推荐'}教师 ${teacher.realName}`);\n    },\n    handleHideTeacher(teacher, isHidden) {\n      teacher.isHidden = isHidden;\n      this.$message.success(`${isHidden ? '已雪藏' : '已取消雪藏'}教师 ${teacher.realName}`);\n    },\n    handleDelete(teacher) {\n      this.$confirm(`确定要删除教师 ${teacher.realName} 吗？此操作不可恢复！`, '警告', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'error'\n      }).then(() => {\n        const index = this.teachers.findIndex(t => t.id === teacher.id);\n        if (index > -1) {\n          this.teachers.splice(index, 1);\n          this.pagination.total--;\n        }\n        this.$message.success('删除成功');\n      }).catch(() => {\n        // 取消操作\n      });\n    },\n    handleSizeChange(size) {\n      this.pagination.size = size;\n      this.loadTeachers();\n    },\n    handleCurrentChange(page) {\n      this.pagination.page = page;\n      this.loadTeachers();\n    },\n    // 工具方法\n    getLevelText(level) {\n      const levelMap = {\n        1: '初级',\n        2: '中级',\n        3: '高级',\n        4: '专家'\n      };\n      return levelMap[level] || '未知';\n    },\n    getLevelTagType(level) {\n      const typeMap = {\n        1: 'info',\n        2: 'warning',\n        3: 'success',\n        4: 'danger'\n      };\n      return typeMap[level] || 'info';\n    },\n    getReviewStatusText(status) {\n      const statusMap = {\n        0: '待审核',\n        1: '已通过',\n        2: '已拒绝'\n      };\n      return statusMap[status] || '未知';\n    },\n    getReviewStatusTagType(status) {\n      const typeMap = {\n        0: 'warning',\n        1: 'success',\n        2: 'danger'\n      };\n      return typeMap[status] || 'info';\n    },\n    getContractStatusText(status) {\n      const statusMap = {\n        0: '未发送',\n        1: '已发送',\n        2: '已签署'\n      };\n      return statusMap[status] || '未知';\n    },\n    getContractStatusTagType(status) {\n      const typeMap = {\n        0: 'info',\n        1: 'warning',\n        2: 'success'\n      };\n      return typeMap[status] || 'info';\n    },\n    formatDate(dateStr) {\n      if (!dateStr) return '-';\n      return dateStr.split(' ')[0];\n    }\n  }\n};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}