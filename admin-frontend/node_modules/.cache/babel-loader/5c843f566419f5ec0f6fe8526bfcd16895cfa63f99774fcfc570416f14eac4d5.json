{"ast":null,"code":"import Vue from 'vue';\nimport Vuex from 'vuex';\nVue.use(Vuex);\nexport default new Vuex.Store({\n  state: {\n    // 用户信息\n    user: null,\n    // 登录状态\n    isLoggedIn: false,\n    // token\n    token: localStorage.getItem('token') || null,\n    // 侧边栏折叠状态\n    sidebarCollapsed: false\n  },\n  getters: {\n    // 获取用户信息\n    getUser: state => state.user,\n    // 获取登录状态\n    isLoggedIn: state => state.isLoggedIn,\n    // 获取token\n    getToken: state => state.token,\n    // 获取侧边栏状态\n    getSidebarCollapsed: state => state.sidebarCollapsed\n  },\n  mutations: {\n    // 设置用户信息\n    SET_USER(state, user) {\n      state.user = user;\n      state.isLoggedIn = !!user;\n    },\n    // 设置token\n    SET_TOKEN(state, token) {\n      state.token = token;\n      if (token) {\n        localStorage.setItem('token', token);\n      } else {\n        localStorage.removeItem('token');\n      }\n    },\n    // 清除用户信息\n    CLEAR_USER(state) {\n      state.user = null;\n      state.isLoggedIn = false;\n      state.token = null;\n      localStorage.removeItem('token');\n    },\n    // 切换侧边栏状态\n    TOGGLE_SIDEBAR(state) {\n      state.sidebarCollapsed = !state.sidebarCollapsed;\n    }\n  },\n  actions: {\n    // 登录\n    login({\n      commit\n    }, {\n      user,\n      token\n    }) {\n      commit('SET_USER', user);\n      commit('SET_TOKEN', token);\n    },\n    // 登出\n    logout({\n      commit\n    }) {\n      commit('CLEAR_USER');\n    },\n    // 切换侧边栏\n    toggleSidebar({\n      commit\n    }) {\n      commit('TOGGLE_SIDEBAR');\n    }\n  },\n  modules: {}\n});","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}