{"ast":null,"code":"export default {\n  name: 'Statistics',\n  data() {\n    return {\n      loading: false,\n      dateRange: [],\n      overviewData: {\n        totalTeachers: 156,\n        activeTeachers: 128,\n        totalCourses: 342,\n        avgRating: 4.6\n      },\n      teachingHoursRank: [{\n        rank: 1,\n        name: '张老师',\n        hours: 180,\n        trend: 'up'\n      }, {\n        rank: 2,\n        name: '李老师',\n        hours: 165,\n        trend: 'up'\n      }, {\n        rank: 3,\n        name: '王老师',\n        hours: 152,\n        trend: 'down'\n      }, {\n        rank: 4,\n        name: '赵老师',\n        hours: 148,\n        trend: 'stable'\n      }, {\n        rank: 5,\n        name: '刘老师',\n        hours: 142,\n        trend: 'up'\n      }],\n      ratingRank: [{\n        rank: 1,\n        name: '张老师',\n        rating: 4.9,\n        reviews: 128\n      }, {\n        rank: 2,\n        name: '李老师',\n        rating: 4.8,\n        reviews: 95\n      }, {\n        rank: 3,\n        name: '王老师',\n        rating: 4.7,\n        reviews: 156\n      }, {\n        rank: 4,\n        name: '赵老师',\n        rating: 4.6,\n        reviews: 88\n      }, {\n        rank: 5,\n        name: '刘老师',\n        rating: 4.5,\n        reviews: 76\n      }],\n      teacherStats: [{\n        id: 1,\n        name: '张老师',\n        subject: '数学',\n        students: 45,\n        courses: 8,\n        hours: 180,\n        rating: 4.9,\n        reviews: 128,\n        income: 15600,\n        lastActive: '2024-07-20'\n      }, {\n        id: 2,\n        name: '李老师',\n        subject: '英语',\n        students: 38,\n        courses: 6,\n        hours: 165,\n        rating: 4.8,\n        reviews: 95,\n        income: 14200,\n        lastActive: '2024-07-19'\n      }, {\n        id: 3,\n        name: '王老师',\n        subject: '物理',\n        students: 32,\n        courses: 5,\n        hours: 152,\n        rating: 4.7,\n        reviews: 156,\n        income: 13800,\n        lastActive: '2024-07-20'\n      }],\n      pagination: {\n        current: 1,\n        pageSize: 10,\n        total: 3\n      }\n    };\n  },\n  methods: {\n    handleDateChange(dates) {\n      if (dates && dates.length === 2) {\n        this.loadStatistics();\n      }\n    },\n    loadStatistics() {\n      this.loading = true;\n      setTimeout(() => {\n        this.loading = false;\n        this.$message.success('统计数据已更新');\n      }, 1000);\n    },\n    exportData() {\n      this.$message.success('数据导出中...');\n    },\n    handleSizeChange(val) {\n      this.pagination.pageSize = val;\n      this.loadStatistics();\n    },\n    handleCurrentChange(val) {\n      this.pagination.current = val;\n      this.loadStatistics();\n    },\n    getTrendIcon(trend) {\n      const iconMap = {\n        up: 'el-icon-top',\n        down: 'el-icon-bottom',\n        stable: 'el-icon-minus'\n      };\n      return iconMap[trend] || 'el-icon-minus';\n    },\n    getTrendColor(trend) {\n      const colorMap = {\n        up: '#67c23a',\n        down: '#f56c6c',\n        stable: '#909399'\n      };\n      return colorMap[trend] || '#909399';\n    }\n  },\n  mounted() {\n    // 设置默认日期范围为最近30天\n    const end = new Date();\n    const start = new Date();\n    start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\n    this.dateRange = [start.toISOString().slice(0, 10), end.toISOString().slice(0, 10)];\n    this.loadStatistics();\n  }\n};","map":{"version":3,"names":["name","data","loading","dateRange","overviewData","totalTeachers","activeTeachers","totalCourses","avgRating","teachingHoursRank","rank","hours","trend","ratingRank","rating","reviews","teacherStats","id","subject","students","courses","income","lastActive","pagination","current","pageSize","total","methods","handleDateChange","dates","length","loadStatistics","setTimeout","$message","success","exportData","handleSizeChange","val","handleCurrentChange","getTrendIcon","iconMap","up","down","stable","getTrendColor","colorMap","mounted","end","Date","start","setTime","getTime","toISOString","slice"],"sources":["src/views/system/Statistics.vue"],"sourcesContent":["<template>\r\n  <div class=\"statistics-container\">\r\n    <div class=\"header\">\r\n      <h2>教师数据统计</h2>\r\n      <div class=\"date-range\">\r\n        <el-date-picker\r\n          v-model=\"dateRange\"\r\n          type=\"daterange\"\r\n          range-separator=\"至\"\r\n          start-placeholder=\"开始日期\"\r\n          end-placeholder=\"结束日期\"\r\n          format=\"yyyy-MM-dd\"\r\n          value-format=\"yyyy-MM-dd\"\r\n          @change=\"handleDateChange\"\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"content\">\r\n      <!-- 统计概览 -->\r\n      <el-row :gutter=\"20\" class=\"stats-overview\">\r\n        <el-col :span=\"6\">\r\n          <el-card class=\"stat-card\">\r\n            <div class=\"stat-item\">\r\n              <div class=\"stat-value\">{{ overviewData.totalTeachers }}</div>\r\n              <div class=\"stat-label\">教师总数</div>\r\n            </div>\r\n          </el-card>\r\n        </el-col>\r\n        <el-col :span=\"6\">\r\n          <el-card class=\"stat-card\">\r\n            <div class=\"stat-item\">\r\n              <div class=\"stat-value\">{{ overviewData.activeTeachers }}</div>\r\n              <div class=\"stat-label\">活跃教师</div>\r\n            </div>\r\n          </el-card>\r\n        </el-col>\r\n        <el-col :span=\"6\">\r\n          <el-card class=\"stat-card\">\r\n            <div class=\"stat-item\">\r\n              <div class=\"stat-value\">{{ overviewData.totalCourses }}</div>\r\n              <div class=\"stat-label\">授课总数</div>\r\n            </div>\r\n          </el-card>\r\n        </el-col>\r\n        <el-col :span=\"6\">\r\n          <el-card class=\"stat-card\">\r\n            <div class=\"stat-item\">\r\n              <div class=\"stat-value\">{{ overviewData.avgRating }}</div>\r\n              <div class=\"stat-label\">平均评分</div>\r\n            </div>\r\n          </el-card>\r\n        </el-col>\r\n      </el-row>\r\n\r\n      <!-- 教师排行榜 -->\r\n      <el-row :gutter=\"20\" class=\"ranking-section\">\r\n        <el-col :span=\"12\">\r\n          <el-card>\r\n            <div slot=\"header\" class=\"card-header\">\r\n              <span>授课时长排行</span>\r\n            </div>\r\n            <el-table :data=\"teachingHoursRank\" style=\"width: 100%\">\r\n              <el-table-column prop=\"rank\" label=\"排名\" width=\"60\" />\r\n              <el-table-column prop=\"name\" label=\"教师姓名\" />\r\n              <el-table-column prop=\"hours\" label=\"授课时长(小时)\" />\r\n              <el-table-column prop=\"trend\" label=\"趋势\" width=\"80\">\r\n                <template slot-scope=\"scope\">\r\n                  <i :class=\"getTrendIcon(scope.row.trend)\" :style=\"{color: getTrendColor(scope.row.trend)}\" />\r\n                </template>\r\n              </el-table-column>\r\n            </el-table>\r\n          </el-card>\r\n        </el-col>\r\n        <el-col :span=\"12\">\r\n          <el-card>\r\n            <div slot=\"header\" class=\"card-header\">\r\n              <span>学生评分排行</span>\r\n            </div>\r\n            <el-table :data=\"ratingRank\" style=\"width: 100%\">\r\n              <el-table-column prop=\"rank\" label=\"排名\" width=\"60\" />\r\n              <el-table-column prop=\"name\" label=\"教师姓名\" />\r\n              <el-table-column prop=\"rating\" label=\"评分\" />\r\n              <el-table-column prop=\"reviews\" label=\"评价数\" />\r\n            </el-table>\r\n          </el-card>\r\n        </el-col>\r\n      </el-row>\r\n\r\n      <!-- 详细统计表 -->\r\n      <el-card class=\"detail-table\">\r\n        <div slot=\"header\" class=\"card-header\">\r\n          <span>教师详细统计</span>\r\n          <el-button type=\"primary\" size=\"small\" @click=\"exportData\">\r\n            <i class=\"el-icon-download\" /> 导出数据\r\n          </el-button>\r\n        </div>\r\n        <el-table :data=\"teacherStats\" style=\"width: 100%\" v-loading=\"loading\">\r\n          <el-table-column prop=\"id\" label=\"ID\" width=\"60\" />\r\n          <el-table-column prop=\"name\" label=\"教师姓名\" min-width=\"100\" />\r\n          <el-table-column prop=\"subject\" label=\"科目\" width=\"80\" />\r\n          <el-table-column prop=\"students\" label=\"学生数\" width=\"80\" />\r\n          <el-table-column prop=\"courses\" label=\"课程数\" width=\"80\" />\r\n          <el-table-column prop=\"hours\" label=\"授课时长\" width=\"100\">\r\n            <template slot-scope=\"scope\">\r\n              {{ scope.row.hours }}h\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"rating\" label=\"评分\" width=\"80\" />\r\n          <el-table-column prop=\"reviews\" label=\"评价数\" width=\"80\" />\r\n          <el-table-column prop=\"income\" label=\"收入\" width=\"100\">\r\n            <template slot-scope=\"scope\">\r\n              ¥{{ scope.row.income }}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"lastActive\" label=\"最后活跃\" width=\"120\" />\r\n        </el-table>\r\n\r\n        <div class=\"pagination\">\r\n          <el-pagination\r\n            @size-change=\"handleSizeChange\"\r\n            @current-change=\"handleCurrentChange\"\r\n            :current-page=\"pagination.current\"\r\n            :page-sizes=\"[10, 20, 50, 100]\"\r\n            :page-size=\"pagination.pageSize\"\r\n            layout=\"total, sizes, prev, pager, next, jumper\"\r\n            :total=\"pagination.total\"\r\n          />\r\n        </div>\r\n      </el-card>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'Statistics',\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      dateRange: [],\r\n      overviewData: {\r\n        totalTeachers: 156,\r\n        activeTeachers: 128,\r\n        totalCourses: 342,\r\n        avgRating: 4.6\r\n      },\r\n      teachingHoursRank: [\r\n        { rank: 1, name: '张老师', hours: 180, trend: 'up' },\r\n        { rank: 2, name: '李老师', hours: 165, trend: 'up' },\r\n        { rank: 3, name: '王老师', hours: 152, trend: 'down' },\r\n        { rank: 4, name: '赵老师', hours: 148, trend: 'stable' },\r\n        { rank: 5, name: '刘老师', hours: 142, trend: 'up' }\r\n      ],\r\n      ratingRank: [\r\n        { rank: 1, name: '张老师', rating: 4.9, reviews: 128 },\r\n        { rank: 2, name: '李老师', rating: 4.8, reviews: 95 },\r\n        { rank: 3, name: '王老师', rating: 4.7, reviews: 156 },\r\n        { rank: 4, name: '赵老师', rating: 4.6, reviews: 88 },\r\n        { rank: 5, name: '刘老师', rating: 4.5, reviews: 76 }\r\n      ],\r\n      teacherStats: [\r\n        {\r\n          id: 1,\r\n          name: '张老师',\r\n          subject: '数学',\r\n          students: 45,\r\n          courses: 8,\r\n          hours: 180,\r\n          rating: 4.9,\r\n          reviews: 128,\r\n          income: 15600,\r\n          lastActive: '2024-07-20'\r\n        },\r\n        {\r\n          id: 2,\r\n          name: '李老师',\r\n          subject: '英语',\r\n          students: 38,\r\n          courses: 6,\r\n          hours: 165,\r\n          rating: 4.8,\r\n          reviews: 95,\r\n          income: 14200,\r\n          lastActive: '2024-07-19'\r\n        },\r\n        {\r\n          id: 3,\r\n          name: '王老师',\r\n          subject: '物理',\r\n          students: 32,\r\n          courses: 5,\r\n          hours: 152,\r\n          rating: 4.7,\r\n          reviews: 156,\r\n          income: 13800,\r\n          lastActive: '2024-07-20'\r\n        }\r\n      ],\r\n      pagination: {\r\n        current: 1,\r\n        pageSize: 10,\r\n        total: 3\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    handleDateChange(dates) {\r\n      if (dates && dates.length === 2) {\r\n        this.loadStatistics()\r\n      }\r\n    },\r\n    loadStatistics() {\r\n      this.loading = true\r\n      setTimeout(() => {\r\n        this.loading = false\r\n        this.$message.success('统计数据已更新')\r\n      }, 1000)\r\n    },\r\n    exportData() {\r\n      this.$message.success('数据导出中...')\r\n    },\r\n    handleSizeChange(val) {\r\n      this.pagination.pageSize = val\r\n      this.loadStatistics()\r\n    },\r\n    handleCurrentChange(val) {\r\n      this.pagination.current = val\r\n      this.loadStatistics()\r\n    },\r\n    getTrendIcon(trend) {\r\n      const iconMap = {\r\n        up: 'el-icon-top',\r\n        down: 'el-icon-bottom',\r\n        stable: 'el-icon-minus'\r\n      }\r\n      return iconMap[trend] || 'el-icon-minus'\r\n    },\r\n    getTrendColor(trend) {\r\n      const colorMap = {\r\n        up: '#67c23a',\r\n        down: '#f56c6c',\r\n        stable: '#909399'\r\n      }\r\n      return colorMap[trend] || '#909399'\r\n    }\r\n  },\r\n  mounted() {\r\n    // 设置默认日期范围为最近30天\r\n    const end = new Date()\r\n    const start = new Date()\r\n    start.setTime(start.getTime() - 3600 * 1000 * 24 * 30)\r\n    this.dateRange = [start.toISOString().slice(0, 10), end.toISOString().slice(0, 10)]\r\n    this.loadStatistics()\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.statistics-container {\r\n  padding: 20px;\r\n}\r\n\r\n.header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.header h2 {\r\n  margin: 0;\r\n  color: #303133;\r\n}\r\n\r\n.stats-overview {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.stat-card {\r\n  text-align: center;\r\n}\r\n\r\n.stat-item {\r\n  padding: 20px;\r\n}\r\n\r\n.stat-value {\r\n  font-size: 32px;\r\n  font-weight: bold;\r\n  color: #409eff;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.stat-label {\r\n  font-size: 14px;\r\n  color: #909399;\r\n}\r\n\r\n.ranking-section {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.card-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.detail-table {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.pagination {\r\n  margin-top: 20px;\r\n  text-align: right;\r\n}\r\n</style>"],"mappings":"AAuIA;EACAA,IAAA;EACAC,KAAA;IACA;MACAC,OAAA;MACAC,SAAA;MACAC,YAAA;QACAC,aAAA;QACAC,cAAA;QACAC,YAAA;QACAC,SAAA;MACA;MACAC,iBAAA,GACA;QAAAC,IAAA;QAAAV,IAAA;QAAAW,KAAA;QAAAC,KAAA;MAAA,GACA;QAAAF,IAAA;QAAAV,IAAA;QAAAW,KAAA;QAAAC,KAAA;MAAA,GACA;QAAAF,IAAA;QAAAV,IAAA;QAAAW,KAAA;QAAAC,KAAA;MAAA,GACA;QAAAF,IAAA;QAAAV,IAAA;QAAAW,KAAA;QAAAC,KAAA;MAAA,GACA;QAAAF,IAAA;QAAAV,IAAA;QAAAW,KAAA;QAAAC,KAAA;MAAA,EACA;MACAC,UAAA,GACA;QAAAH,IAAA;QAAAV,IAAA;QAAAc,MAAA;QAAAC,OAAA;MAAA,GACA;QAAAL,IAAA;QAAAV,IAAA;QAAAc,MAAA;QAAAC,OAAA;MAAA,GACA;QAAAL,IAAA;QAAAV,IAAA;QAAAc,MAAA;QAAAC,OAAA;MAAA,GACA;QAAAL,IAAA;QAAAV,IAAA;QAAAc,MAAA;QAAAC,OAAA;MAAA,GACA;QAAAL,IAAA;QAAAV,IAAA;QAAAc,MAAA;QAAAC,OAAA;MAAA,EACA;MACAC,YAAA,GACA;QACAC,EAAA;QACAjB,IAAA;QACAkB,OAAA;QACAC,QAAA;QACAC,OAAA;QACAT,KAAA;QACAG,MAAA;QACAC,OAAA;QACAM,MAAA;QACAC,UAAA;MACA,GACA;QACAL,EAAA;QACAjB,IAAA;QACAkB,OAAA;QACAC,QAAA;QACAC,OAAA;QACAT,KAAA;QACAG,MAAA;QACAC,OAAA;QACAM,MAAA;QACAC,UAAA;MACA,GACA;QACAL,EAAA;QACAjB,IAAA;QACAkB,OAAA;QACAC,QAAA;QACAC,OAAA;QACAT,KAAA;QACAG,MAAA;QACAC,OAAA;QACAM,MAAA;QACAC,UAAA;MACA,EACA;MACAC,UAAA;QACAC,OAAA;QACAC,QAAA;QACAC,KAAA;MACA;IACA;EACA;EACAC,OAAA;IACAC,iBAAAC,KAAA;MACA,IAAAA,KAAA,IAAAA,KAAA,CAAAC,MAAA;QACA,KAAAC,cAAA;MACA;IACA;IACAA,eAAA;MACA,KAAA7B,OAAA;MACA8B,UAAA;QACA,KAAA9B,OAAA;QACA,KAAA+B,QAAA,CAAAC,OAAA;MACA;IACA;IACAC,WAAA;MACA,KAAAF,QAAA,CAAAC,OAAA;IACA;IACAE,iBAAAC,GAAA;MACA,KAAAd,UAAA,CAAAE,QAAA,GAAAY,GAAA;MACA,KAAAN,cAAA;IACA;IACAO,oBAAAD,GAAA;MACA,KAAAd,UAAA,CAAAC,OAAA,GAAAa,GAAA;MACA,KAAAN,cAAA;IACA;IACAQ,aAAA3B,KAAA;MACA,MAAA4B,OAAA;QACAC,EAAA;QACAC,IAAA;QACAC,MAAA;MACA;MACA,OAAAH,OAAA,CAAA5B,KAAA;IACA;IACAgC,cAAAhC,KAAA;MACA,MAAAiC,QAAA;QACAJ,EAAA;QACAC,IAAA;QACAC,MAAA;MACA;MACA,OAAAE,QAAA,CAAAjC,KAAA;IACA;EACA;EACAkC,QAAA;IACA;IACA,MAAAC,GAAA,OAAAC,IAAA;IACA,MAAAC,KAAA,OAAAD,IAAA;IACAC,KAAA,CAAAC,OAAA,CAAAD,KAAA,CAAAE,OAAA;IACA,KAAAhD,SAAA,IAAA8C,KAAA,CAAAG,WAAA,GAAAC,KAAA,SAAAN,GAAA,CAAAK,WAAA,GAAAC,KAAA;IACA,KAAAtB,cAAA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}