"use strict";(self["webpackChunkadmin_frontend"]=self["webpackChunkadmin_frontend"]||[]).push([[470],{9470:function(t,e,a){a.r(e),a.d(e,{default:function(){return d}});var l=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app-container"},[e("el-card",{attrs:{shadow:"never"}},[e("div",{staticClass:"filter-bar"},[e("el-input",{staticStyle:{width:"200px","margin-right":"12px"},attrs:{placeholder:"教师ID",clearable:""},model:{value:t.query.teacherId,callback:function(e){t.$set(t.query,"teacherId",e)},expression:"query.teacherId"}}),e("el-input",{staticStyle:{width:"200px","margin-right":"12px"},attrs:{placeholder:"岗位ID",clearable:""},model:{value:t.query.postId,callback:function(e){t.$set(t.query,"postId",e)},expression:"query.postId"}}),e("el-button",{attrs:{type:"primary"},on:{click:t.loadData}},[t._v("查询")])],1),e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list,stripe:""}},[e("el-table-column",{attrs:{prop:"id",label:"ID",width:"80"}}),e("el-table-column",{attrs:{prop:"createTime",label:"申请时间",width:"180"}}),e("el-table-column",{attrs:{label:"教师"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",[t._v(t._s(a.row.teacherName||"#"+a.row.teacherId))]),a.row.teacherPhone?e("span",{staticStyle:{color:"#999","margin-left":"8px"}},[t._v(t._s(a.row.teacherPhone))]):t._e()]}}])}),e("el-table-column",{attrs:{prop:"postTitle",label:"岗位"}}),e("el-table-column",{attrs:{prop:"resumeName",label:"简历文件",width:"220"}}),e("el-table-column",{attrs:{label:"操作",width:"140"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{type:"text"},on:{click:function(e){return t.download(a.row)}}},[t._v("下载简历")])]}}])})],1),e("div",{staticClass:"pagination"},[e("el-pagination",{attrs:{"current-page":t.page,"page-size":t.size,layout:"prev, pager, next,total",total:t.total},on:{"current-change":t.handlePageChange}})],1)],1)],1)},r=[],s=a(6879);function n(t){return(0,s.A)({url:"/admin/employment-application/list",method:"get",params:t})}var i={name:"EmploymentApplication",data(){return{query:{teacherId:"",postId:""},list:[],page:1,size:10,total:0}},created(){this.loadData()},methods:{async loadData(){const t={page:this.page,size:this.size};this.query.teacherId&&(t.teacherId=this.query.teacherId),this.query.postId&&(t.postId=this.query.postId);const e=await n(t),a=e.data||e,l=a.list||a.pageNum?a:{};this.list=l.list||a||[],this.total=l.total||0},handlePageChange(t){this.page=t,this.loadData()},download(t){if(!t.resumeUrl)return this.$message.warning("无下载地址");const e="/api",a=t.resumeUrl.startsWith("http")?t.resumeUrl:`${e}${t.resumeUrl}`;window.open(a,"_blank")}}},o=i,c=a(1656),p=(0,c.A)(o,l,r,!1,null,"a48da20a",null),d=p.exports}}]);