"use strict";(self["webpackChunkadmin_frontend"]=self["webpackChunkadmin_frontend"]||[]).push([[892],{5892:function(e,s,t){t.r(s),t.d(s,{default:function(){return c}});var i=function(){var e=this,s=e._self._c;return s("div",{staticClass:"login-page"},[s("div",{staticClass:"login-card"},[e._m(0),s("div",{staticClass:"right-panel"},[e._m(1),s("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,rules:e.loginRules},nativeOn:{keyup:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"enter",13,s.key,"Enter")?null:e.handleLogin.apply(null,arguments)}}},[s("el-form-item",{attrs:{prop:"username"}},[s("el-input",{attrs:{placeholder:"用户名 / 手机号",name:"username",type:"text",tabindex:"1",autocomplete:"on","prefix-icon":"el-icon-user"},model:{value:e.loginForm.username,callback:function(s){e.$set(e.loginForm,"username",s)},expression:"loginForm.username"}})],1),s("el-form-item",{attrs:{prop:"password"}},[s("el-input",{ref:"passwordInput",attrs:{type:e.passwordType,placeholder:"请输入密码",name:"password",tabindex:"2",autocomplete:"on","prefix-icon":"el-icon-lock"},nativeOn:{keyup:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"enter",13,s.key,"Enter")?null:e.handleLogin.apply(null,arguments)}},model:{value:e.loginForm.password,callback:function(s){e.$set(e.loginForm,"password",s)},expression:"loginForm.password"}},[s("i",{staticClass:"show-pwd",class:"password"===e.passwordType?"el-icon-view":"el-icon-hide",attrs:{slot:"suffix"},on:{click:e.showPwd},slot:"suffix"})])],1),s("div",{staticClass:"form-extras"},[s("el-checkbox",{model:{value:e.loginForm.remember,callback:function(s){e.$set(e.loginForm,"remember",s)},expression:"loginForm.remember"}},[e._v("记住账号")])],1),s("el-button",{staticClass:"login-btn",attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(s){return s.preventDefault(),e.handleLogin.apply(null,arguments)}}},[e._v("登录")]),s("div",{staticClass:"tips"},[s("span",[e._v("默认账号密码：")]),s("span",[e._v("admin / admin123")])])],1)],1)])])},r=[function(){var e=this,s=e._self._c;return s("div",{staticClass:"left-panel"},[s("div",{staticClass:"brand-title"},[s("i",{staticClass:"el-icon-reading"}),s("span",[e._v("新文枢教育 · 管理平台")])]),s("div",{staticClass:"slogan"},[e._v("连接教务、教师、学生的高效协同平台")]),s("ul",{staticClass:"features"},[s("li",[s("i",{staticClass:"el-icon-s-management"}),e._v(" 教务流程一体化")]),s("li",[s("i",{staticClass:"el-icon-s-check"}),e._v(" 课程与排课智能化")]),s("li",[s("i",{staticClass:"el-icon-s-data"}),e._v(" 财务结算可视化")])]),s("div",{staticClass:"brand-footer"},[e._v("© 2025 XinWenshu Education")])])},function(){var e=this,s=e._self._c;return s("div",{staticClass:"form-header"},[s("div",{staticClass:"title"},[e._v("欢迎登录")]),s("div",{staticClass:"subtitle"},[e._v("请使用管理员账号登录")])])}],a={name:"Login",data(){return{loginForm:{username:"admin",password:"admin123",remember:!0},loginRules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度至少6位",trigger:"blur"}]},passwordType:"password",loading:!1,redirect:void 0,otherQuery:{}}},watch:{$route:{handler:function(e){const s=e.query;s&&(this.redirect=s.redirect,this.otherQuery=this.getOtherQuery(s))},immediate:!0}},created(){try{const e=localStorage.getItem("admin_last_username");e&&(this.loginForm.username=e)}catch(e){}},methods:{showPwd(){"password"===this.passwordType?this.passwordType="text":this.passwordType="password",this.$nextTick(()=>{this.$refs.passwordInput&&this.$refs.passwordInput.focus()})},handleLogin(){this.$refs.loginForm.validate(e=>{if(!e)return!1;this.loading=!0,this.$store.dispatch("user/login",this.loginForm).then(()=>{try{this.loginForm.remember&&localStorage.setItem("admin_last_username",this.loginForm.username)}catch(e){}this.$router.push({path:this.redirect||"/",query:this.otherQuery}),this.loading=!1}).catch(()=>{this.loading=!1})})},getOtherQuery(e){return Object.keys(e).reduce((s,t)=>("redirect"!==t&&(s[t]=e[t]),s),{})}}},n=a,o=t(1656),l=(0,o.A)(n,i,r,!1,null,"4cc85853",null),c=l.exports}}]);